{"version":3,"sources":["../node_modules/babel-core/lib/transformation/file/options sync","../node_modules/babel-core/lib/transformation/file sync","lib/services/auth-service.js","lib/AuthProvider.js","components/Navbar/Navbar.js","components/ExploreBar/ExploreBar.js","lib/services/user-services.js","components/LoadingGif.js","components/Image.js","lib/services/painting-service.js","lib/config/images.js","lib/config/functions.js","components/DetailsPainting/Icon/LikeIcon.js","components/ListPainting/ListPainting.js","views/Home/Home.js","views/Auth pages/Login/Login.js","views/Auth pages/Signup/Signup.js","components/ProfileDisplay/ProfileDisplay.js","views/Profile.js","components/DetailsPainting/CreatorDetails/CreatorDetails.js","components/AddPainting/Tag.js","components/DetailsPainting/Tags/Tags.js","components/DetailsPainting/Title/Title.js","components/DetailsPainting/CreationDate/CreationDate.js","components/DetailsPainting/Icon/SeenIcon.js","components/DetailsPainting/Info/Info.js","components/DetailsPainting/DetailsPainting.js","views/Painting.js","components/Chats/ChatsDisplay.js","views/Chats.js","components/AddPainting/AddPaintingForm.js","views/AddPaintings.js","components/EditPainting/EditForm.js","views/Edit.js","lib/services/chat-service.js","components/chat/ChatMain/ChatMain.js","components/chat/ChatForm/ChatForm.js","views/Chat.js","components/Errors/Error404.js","components/a_Route Components/AnonRoute.js","components/a_Route Components/PrivateRoute.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","baseURL","process","axiosRequestFunctions","this","auth","axios","create","withCredentials","user","username","password","image","post","then","data","catch","err","console","log","response","get","file","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedIn","isLoading","props","Component","AuthProvider","state","userData","authService","setState","me","value","children","profilePic","view","className","style","listStyleType","to","onClick","getHomePaintings","history","goBack","src","alt","_id","ExploreBar","getFilteredPaintings","filter","filterPaintings","sortPaintings","document","querySelector","options","selectedIndex","name","defaultValue","onChange","target","type","placeholder","onMouseOver","onMouseOut","users","res","string","patch","paintingId","LoadingGif","Image","componentWillReceiveProps","includes","width","margin","title","height","frameBorder","allow","mozallowfullscreen","webkitallowfullscreen","mgTouchOffsetY","mgTouchOffsetX","paddingBottom","marginBottom","maxHeight","paintings","message","painting","delete","filterStr","updatedPaiting","put","profileImages","filledStar","emptyStar","handleLikeAndToggleImageSource","userId","a","async","userService","handleLike","result","usersWhoLiked","timeSince","date","seconds","Math","floor","Date","interval","Icon","componentDidMount","paintingService","getDetails","paintingDetails","handleLikeAndToggleImageSourceBinded","bind","loggedIn","includeLikes","length","PaintingList","nextProps","addSeen","map","i","key","shortid","generate","liked","homePaintings","sortedPaintings","filteredPaintings","setTimeout","sort","lastSearch","b","created_at","timesSeen","toLowerCase","handleFormSubmit","event","preventDefault","handleChange","push","onSubmit","profileImagesIndex","random","imageLoaded","fileChange","files","uploadData","FormData","append","imageUpload","error","instruction","changeImage","noValidate","encType","htmlFor","ProfileDisplay","refreshProfile","addEventListener","getUser","match","params","deleteMe","LogoutAndGoToSignup","description","refresh","ChatLink","creator","creatorUsername","Tag","changeClassName","text","deleteTag","Tags","tags","tag","Title","ownPainting","CreationDate","parse","SeenIcon","Info","game","imgData","Liked","ChatsDisplay","getUserChatRooms","chats","forEach","chat","otherUserId","getOtherUser","roomId","split","otherUserData","splice","join","regExp","RegExp","IMessedUp","color","comments","commentText","newPainting","AddPaintingForm","handleSubmit","required","for","addTagValue","size","handleSelectChange","postPainting","errorMessage","innerHTML","classList","remove","newPaintingCopy","getElementById","fakeTagsInput","fakeTagsInputValue","valueArr","lastCharacterInInput","pop","indexOf","tagsCopy","withoutEmptyTags","updatePaintingByPut","ids","creatorId","newCommentData","ChatMain","comment","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","newCommenCopy","newComment","preventDefaultAndSendComment","sendComment","commentImage","textAlign","chatService","getChatData","chatData","postComment","updatedChat2","Error404","component","rest","render","App","exact","path","Home","Login","Signup","Profile","Chats","Edit","Painting","PaintingsAdd","Chat","ReactDOM"],"mappings":"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","file":"static/js/main.25616845.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 220;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 234;","import axios from \"axios\";\n\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: baseURL,\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  signup(user) {\n    const { username, password, image } = user;\n    return this.auth\n      .post(\"/auth/signup\", { username, password, image })\n      .then(({ data }) => {\n        return data})\n        .catch(err=>{\n          console.log(err)\n          return err})\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth\n      .post(\"/auth/login\", { username, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(response => response.data);\n  }\n\n  imageUpload(file) {\n    return this.auth.post(\"/auth/signup/image\", file).then(({ data }) => data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\nimport authService from \"./services/auth-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\n// HOC that creates Consumer/s\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {({ login, signup, user, logout, isLoggedIn, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  };\n\n  login = userData => {\n    const { username, password } = userData;\n\n    authService\n      .login({ username, password })\n      .then(user => {\n        this.setState({ isLoggedIn: true, user });\n      })\n      .catch(err => console.log(err));\n  };\n\n  signup = userData => {\n    const { username, password, image } = userData;\n\n    return authService\n      .signup({ username, password, image })\n      .then(user => {\n        this.setState({ isLoggedIn: true, user });\n      })\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    return authService\n      .logout()\n      .then(() => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n      .catch(err => console.log(err));\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user => {\n        this.setState({ isLoggedIn: true, isLoading: false, user: user });\n      })\n      .catch(err =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  render() {\n    const { isLoading, isLoggedIn, user } = this.state;\n    const { login, signup, logout } = this;\n\n    return (\n      <div>\n        {false ? ( //isLoading but only in Loading\n          <h1>Loading</h1>\n        ) : (\n          <Provider\n            value={{ isLoading, isLoggedIn, user, login, signup, logout }}\n          >\n            {this.props.children}\n          </Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport \"./Navbar.css\";\n\nclass Navbar extends React.Component {\n  state = {\n    profilePic: \"\"\n  };\n\n  render() {\n    const { user, isLoggedIn, view } = this.props;\n    return (\n      <div className=\"navbar\">\n        <ul>\n          {view === \"home\" ? (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/\" className=\"navbar-link\">\n                <h1 onClick={this.props.getHomePaintings}>Paintapop</h1>\n              </Link>\n            </li>\n          ) : (\n            <li>\n              <img\n                onClick={() => this.props.history.goBack()}\n                src=\"https://img.icons8.com/metro/52/000000/back.png\"\n                alt=\"\"\n              />\n            </li>\n          )}\n\n          {view === \"home\" ? (\n            <li></li>\n          ) : (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/\" className=\"navbar-link\">\n                Paintapop\n              </Link>\n            </li>\n          )}\n\n          {isLoggedIn ? (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to={`/profile/${user._id}`} className=\"navbar-link\">\n                <img src={user.image} alt=\"\" id=\"navbar-profile-img\" />\n              </Link>\n            </li>\n          ) : (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/login\" className=\"navbar-link\">\n                Log In\n              </Link>\n            </li>\n          )}\n          {!isLoggedIn ? (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/signup\" className=\"navbar-link\">\n                Sign up\n              </Link>\n            </li>\n          ) : null}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport \"./ExploreBar.css\";\n\nexport default class ExploreBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  getFilteredPaintings = (filter) => {\n    this.props.filterPaintings(filter)\n    // const searchbar = document.querySelector(\".explore-searchbar\");\n    // this.props.getFilteredPaintings(`?title=${searchbar.value}`);\n  };\n\n  sortPaintings = () => {\n    const e = document.querySelector(\".select\");\n    const value = e.options[e.selectedIndex].value;\n    this.props.sortPaintings(value)\n  };\n\n  render() {\n    return (\n      <div className=\"exploreBar\">\n        <div>\n          <span>Sort by:</span>\n          <select\n            name=\"\"\n            id=\"\"\n            className=\"select\"\n            onClick={this.sortPaintings}\n          >\n            <option defaultValue>Oldest</option>\n            <option>Newest</option>\n            <option>Most liked</option>\n            <option>Most seen</option>\n            {/* <option>Trending</option> */}\n          </select>\n        </div>\n        <div>\n          <input \n          className=\"explore-searchbar\" \n          onChange={(e)=>this.getFilteredPaintings(e.target.value)}\n          type=\"text\" placeholder=\"Search by title\"/>\n          <img\n            onMouseOver={()=>this.getFilteredPaintings}\n            onMouseOut={this.getFilteredPaintings}\n            onClick={()=>{this.getFilteredPaintings()}}\n            id=\"search-magnifying-glass\"\n            src=\"https://img.icons8.com/ios-glyphs/60/000000/search.png\"\n            alt=\"\"\n          />\n        </div>\n        \n            {/* this.getFilteredPaintings()} */}\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\nconst baseURL= process.env.REACT_APP_API_URL\n\n\nclass Users {\n  constructor() {\n    this.users = axios.create({\n      baseURL: baseURL+\"/users\",\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  getUser(id) {\n    return this.users.get(`/${id}`).then(res => {\n      res.data.password = \"*\";\n      return res.data;\n    });\n  }\n  handleLike(string) {\n    return this.users.patch(string).then(res => {\n      return res.data;\n    });\n  }\n  addSeen(paintingId){\n    return this.users.patch(`/add-seen/${paintingId}`).then(res => {\n      res.data.password = \"*\";\n      return res.data;\n    });\n  }\n  getUserChatRooms(id) {\n    return this.users.get(`/chatrooms/${id}`).then(res => {\n      return res.data;\n    });\n  }\n}\n\nconst axiosRequestFunctions = new Users();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\n\nexport default class LoadingGif extends Component {\n  render() {\n    const { view, className } = this.props;\n    const src =\n      \"https://retchhh.files.wordpress.com/2015/03/loading1.gif?w=300&h=300\";\n    return (\n      <span>\n        {view === \"signup\" ? (\n          <img src={src} className={className} alt=\"\" />\n        ) : (\n          <img src={src} alt=\"\" />\n        )}\n      </span>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport LoadingGif from \"./LoadingGif\";\nimport Magnifier from \"react-magnifier\";\n\nexport default class Image extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentWillReceiveProps = () => {\n    this.setState({});\n  };\n  render() {\n    const { view, src, className } = this.props;\n    return (\n      <span>\n        {!src ? (\n          <LoadingGif />\n        ) : view === \"display\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div className=\"sketchfab-embed-wrapper\">\n              <iframe\n                style={{ width: \"200vw\", margin: \"0 0 2vh\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <Magnifier src={src} mgTouchOffsetY=\"100\" mgTouchOffsetX=\"0\" className={className} height=\"50vh\" width=\"90vw\"/>\n          )\n        ) : view === \"home\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div className=\"sketchfab-embed-wrapper\"\n            style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n            >\n              <iframe\n                style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        ) : view === \"profile\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div className=\"sketchfab-embed-wrapper\"\n            style={{ width: \"100%\", height: \"22vh\",maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n            >\n              <iframe\n                style={{ width: \"20vh\", height: \"22vh\", maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        ): view === \"edit\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div \n            style={{ width: \"88vw\", height: \"32vh\", paddingBottom:\"0\", marginBottom: \"2vh\" }}\n            >\n              <iframe\n                style={{ width: \"100%\", height: \"32vh\", paddingBottom:\"0\"}}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        )\n        :\n        null}\n      </span>\n    );\n  }\n}\n","import axios from \"axios\";\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.paintings = axios.create({\n      baseURL: baseURL+\"/paintings\",\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  imageUpload(file) {\n    return this.paintings.post(\"/image\", file).then(({ data }) => data);\n  }\n\n  getDetails(id) {\n    return this.paintings.get(`/${id}`).then(({ data }) => data)\n    .catch(err=>err.message)\n  }\n\n  getHomePaintings() {\n    return this.paintings.get(`/home`).then(({ data }) => {\n      return data;\n    });\n  }\n\n  postPainting(painting) {\n    return this.paintings.post(\"/\", painting).then(({ data }) => {\n      return data;\n    });\n  }\n\n  delete(paintingId) {\n    return this.paintings.delete(`/${paintingId}`);\n  }\n\n  getFilteredPaintings(filterStr) {\n    return this.paintings.get(`/${filterStr}`);\n  }\n\n  updatePaintingByPut(updatedPaiting) {\n    return this.paintings.put(`/${updatedPaiting._id}`, updatedPaiting).then(({data})=>data)\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","const profileImages = [\n    \"https://preview.redd.it/sv49tdht3ds11.jpg?width=768&auto=webp&s=83ce6a1b99746d62e26212e1d5e25d70adb10ce9\",\n    \"https://i.pinimg.com/564x/0c/e4/91/0ce491ecf9684f64e49436689e969e43.jpg\",\n    \"https://i.pinimg.com/564x/42/6b/18/426b181df40f7da0046007250aa08337.jpg\",\n    \"https://i.pinimg.com/564x/a8/47/a4/a847a4bc6d4085a7bc7137049399682d.jpg\",\n    \"https://i.pinimg.com/564x/a8/ac/4e/a8ac4e780e1e10ef63c8170cc77cfa91.jpg\",\n    \"https://i.pinimg.com/564x/c8/44/3c/c8443c350a0fa207e56608d7e29ba88a.jpg\",\n    \"https://i.pinimg.com/originals/78/8f/01/788f01cd3b6f12e579e261e753b04a42.jpg\",\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\n    \"https://i.pinimg.com/564x/e7/45/8b/e7458bd5c12a259ec25a38f85cd961fa.jpg\",\n    \"https://i.pinimg.com/564x/c3/4b/e1/c34be151f30f8846b61fdce0845b218e.jpg\",\n    \"https://i.pinimg.com/564x/b8/2a/74/b82a7472bf8d04f4e060dde71e8449b5.jpg\",\n    \"https://i.pinimg.com/564x/e9/fb/de/e9fbde75eb24431341f06d4fe70ad3b3.jpg\",\n    \"https://i.pinimg.com/564x/67/91/67/6791675473dfc08463daa60ef22ca72d.jpg\",\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\n    \"https://i.pinimg.com/564x/ad/0f/f1/ad0ff1cd210f02e3020ad307e7d4b70f.jpg\",\n    \"https://i.pinimg.com/564x/d7/29/14/d729140681bfa9faa2a43768eaa3c897.jpg\",\n    \"https://i.pinimg.com/564x/a1/2a/a8/a12aa8fb31279840191eacb0512aef6a.jpg\",\n    \"https://i.pinimg.com/564x/85/b8/b1/85b8b1ece7fcbd870c6b7163fc02018e.jpg\",\n    \"https://i.pinimg.com/564x/df/0c/09/df0c09967d74c081e14adcd8667fa2f9.jpg\",\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\n    \"https://i.pinimg.com/564x/19/26/1f/19261f46683c09b9bd6404dd3fe67cf9.jpg\",\n    \"https://i.pinimg.com/564x/ed/0b/72/ed0b726cdc3c83b54251aa55e2bbe861.jpg\",\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\n    \"https://i.pinimg.com/564x/80/01/28/80012896a137b0e4cd1c6058ca39496d.jpg\",\n    \"https://i.pinimg.com/564x/b0/63/d7/b063d7022d71973b43c9464759641224.jpg\",\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\n    \"https://i.pinimg.com/564x/e3/a9/2e/e3a92e964371d63fb452fe1a8d42e183.jpg\",\n    \"https://i.pinimg.com/564x/23/a2/d6/23a2d606d07de55c8838f6ec4bd5a14d.jpg\"\n]\n\nconst img404 = \"https://cdn.dribbble.com/users/2112205/screenshots/6311420/404.gif\"\n\nconst seenImg = \"https://img.icons8.com/material-rounded/96/000000/visible.png\"\n\nconst filledStar = \"https://img.icons8.com/color/100/000000/filled-star.png\"\n\nconst emptyStar = \"https://img.icons8.com/ios/50/000000/christmas-star.png\"\n\nconst editIcon = \"https://img.icons8.com/dusk/512/000000/edit.png\"\n\nconst chatIcon = \"https://img.icons8.com/plasticine/100/000000/chat.png\"\n\nexport { profileImages, img404, seenImg, filledStar, emptyStar, editIcon, chatIcon };","import { emptyStar } from \"./images\"\nimport userService from \"./../services/user-services\"\n\nasync function handleLikeAndToggleImageSource (e, userId) {\n  if (e.target.src === emptyStar) {\n    const paintingId = e.target.alt;\n    const result = await userService.handleLike(`/handle-like/like/${userId}/${paintingId}`)\n    this.setState({usersWhoLiked: result})\n    return result\n  } else {\n    const paintingId = e.target.alt;\n    const result =  await userService.handleLike(`/handle-like/unlike/${userId}/${paintingId}`)\n    this.setState({usersWhoLiked: result})\n    return result\n  }\n};\n\nconst timeSince = date => {\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n      return interval + \" years\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" months\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" hours\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n      return interval + \" minutes\";\n    }\n    return Math.floor(seconds) + \" seconds\";\n  };\n\nexport { handleLikeAndToggleImageSource, timeSince };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport paintingService from \"./../../../lib/services/painting-service\"\n\nimport { filledStar, emptyStar } from \"../../../lib/config/images\";\nimport { handleLikeAndToggleImageSource } from \"../../../lib/config/functions\";\n\nexport default class Icon extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      usersWhoLiked: null,\n      handleLikeAndToggleImageSourceBinded: handleLikeAndToggleImageSource.bind(\n        this\n      )\n    };\n  }\n\n  componentDidMount=async ()=>{\n    const paintingDetails=await paintingService.getDetails(this.props.id)\n    this.setState({usersWhoLiked: paintingDetails.usersWhoLiked})\n  }\n\n  render() {\n    const { loggedIn, id, userId, includeLikes } = this.props;\n    const { usersWhoLiked, handleLikeAndToggleImageSourceBinded } = this.state;\n    return (\n      <span>\n        {!usersWhoLiked ? null : loggedIn ? (\n          includeLikes ? (\n            usersWhoLiked.includes(userId) ? (\n              <div>\n                <img\n                  className=\"details-filledStar\"\n                  onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\n                  src={filledStar}\n                  alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n                />\n                <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n              </div>\n            ) : (\n              <div>\n                <img\n                  onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\n                  className=\"details-emptyStar\"\n                  src={emptyStar}\n                  alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n                />\n                <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n              </div>\n            )\n          ) : usersWhoLiked.includes(userId) ? (\n            <div>\n              <img\n                className=\"filledStar\"\n                onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\n                src={filledStar}\n                alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n              />\n            </div>\n          ) : (\n            <div>\n              <img\n                onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\n                className=\"emptyStar\"\n                src={emptyStar}\n                alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n              />\n            </div>\n          )\n        ) : !usersWhoLiked ? null : (\n          <div>\n            <Link to=\"/login\">\n              <img src={emptyStar} alt=\"\" />\n            </Link>\n            <span>{usersWhoLiked.length}</span>\n          </div>\n        )}\n      </span>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../lib/services/user-services\";\nimport shortid from \"shortid\";\n\nimport \"./ListPainting.css\";\n\nimport LoadingGif from \"./../LoadingGif\";\nimport Image from \"./../Image\";\nimport LikeIcon from \"./../DetailsPainting/Icon/LikeIcon\";\n\nimport { handleLikeAndToggleImageSource } from \"../../lib/config/functions\";\n\nexport default class PaintingList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paintings: props.paintings,\n      handleLikeAndToggleImageSourceBinded: handleLikeAndToggleImageSource.bind(\n        this\n      )\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ paintings: nextProps.paintings });\n  }\n\n  addSeen(id) {\n    userService.addSeen(id);\n  }\n\n  render() {\n    return (\n      <div className=\"painting-list-div\">\n        {!this.state.paintings ? (\n          <LoadingGif />\n        ) : !this.state.paintings.length ? (\n          <h2 className=\"search-err\">No matching paintings</h2>\n        ) : (\n          this.state.paintings.map((painting, i) => {\n            return (\n              <div key={shortid.generate()} className=\"painting-list-item\">\n                {!this.props.user ? null : !painting.usersWhoLiked.includes(\n                    this.props.user._id\n                  ) ? (\n                  <LikeIcon\n                    loggedIn\n                    liked\n                    userId={this.props.user._id}\n                    id={painting._id}\n                  />\n                ) : (\n                  <LikeIcon\n                    loggedIn\n                    userId={this.props.user._id}\n                    id={painting._id}\n                  />\n                )}\n\n                <Link\n                  onClick={() => this.addSeen(painting._id)}\n                  to={`/painting/${painting._id}`}\n                >\n                  <Image\n                    src={painting.image}\n                    view=\"home\"\n                    className=\"home-list-img\"\n                  />\n                </Link>\n\n                <div className=\"img-info\">\n                  <Link\n                    onClick={() => this.addSeen(painting._id)}\n                    to={`/painting/${painting._id}`}\n                  >\n                    <p className=\"list-title\">{painting.title}</p>\n                  </Link>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Home.css\";\n\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport ExploreBar from \"../../components/ExploreBar/ExploreBar\";\nimport PaintingList from \"../../components/ListPainting/ListPainting\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport paintingService from \"../../lib/services/painting-service\";\nimport userService from \"./../../lib/services/user-services\";\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      paintings: null,\n      lastSearch: \"Oldest\",\n      sortedPaintings: null,\n      filteredPaintings: null,\n      filter: null\n    };\n  }\n\n\n  componentDidMount = async () => {\n    const homePaintings = await paintingService.getHomePaintings();\n    this.setState({\n      paintings: homePaintings,\n      sortedPaintings: homePaintings,\n      filteredPaintings: homePaintings\n    });\n    setTimeout(()=>console.log(this.state.paintings), 1000)\n  };\n\n\n  //!!!REFACTOR TO REDUX\n  sortPaintings = async sort => {\n\n    if (sort === this.state.lastSearch) {\n      return;\n    }\n\n    let sortedPaintings;\n\n    if (sort === \"Oldest\") {\n      sortedPaintings = this.state.paintings.sort((a, b) => {\n        return a.created_at > b.created_at ? 1 : -1;\n      });\n    } else if (sort === \"Newest\") {\n      sortedPaintings = this.state.paintings.sort((a, b) => {\n        return a.created_at > b.created_at ? -1 : 1;\n      });\n    } else if (sort === \"Most liked\") {\n      sortedPaintings = this.state.paintings.sort((a, b) => {\n        return a.usersWhoLiked.length > b.usersWhoLiked.length ? -1 : 1;\n      });\n    } else if (sort === \"Most seen\") {\n      sortedPaintings = this.state.paintings.sort((a, b) => {\n        return a.timesSeen > b.timesSeen ? -1 : 1;\n      });\n    }\n\n    this.setState({ sortedPaintings: sortedPaintings, lastSearch: sort })\n\n    if(!this.state.filter){\n      this.setState({ filteredPaintings: sortedPaintings, });\n    } else {\n      this.filterPaintings(this.state.filter)\n    }\n    \n  };\n\n\n\n  filterPaintings = filter => {\n    this.setState({\n      filteredPaintings: this.state.sortedPaintings.filter(painting => {\n        return painting.title.toLowerCase().includes(filter.toLowerCase());\n      }),\n      filter: filter\n    });\n  };\n\n  handleLike = string => {\n    userService.handleLike(string);\n  };\n\n  render() {\n    const { user, isLoggedIn } = this.props;\n    return (\n      <div>\n        <Navbar view=\"home\" getHomePaintings={this.getHomePaintings} />\n        <ExploreBar\n          {...this.props}\n          sortPaintings={this.sortPaintings}\n          filterPaintings={this.filterPaintings}\n        />\n\n        {!this.state.paintings ? null : (\n          <PaintingList\n            user={user}\n            paintings={this.state.filteredPaintings}\n            handleLike={this.handleLike}\n          />\n        )}\n\n        {isLoggedIn ? (\n          <div>\n            <Link to={`/chats/${user._id}`} className=\"chats-link\">\n              <img\n                src=\"https://img.icons8.com/flat_round/64/000000/speech-bubble.png\"\n                alt=\"\"\n              />\n            </Link>\n            <Link to=\"/paintings/add\" className=\"add-link\">\n              <img\n                src=\"https://img.icons8.com/material/96/000000/add.png\"\n                alt=\"\"\n              />\n            </Link>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from 'react'\nimport { withAuth } from \"../../../lib/AuthProvider\"\nimport { Link } from \"react-router-dom\";\nimport \"./Login.css\"\n\nclass Login extends Component {\n    state = { username: \"\", password: \"\" };\n\n    handleFormSubmit = event => {\n      event.preventDefault();\n      const { username, password } = this.state;\n      this.props.login({ username, password })\n    };\n  \n    handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({ [name]: value });\n    };\n  \n    render() {\n      const { username, password } = this.state;\n  \n      return (\n        <div className=\"login\">\n          <div className=\"login-background\"></div>\n          <div className=\"auth-background\"><div></div></div>\n        <img\n        id=\"auth-back\"\n          onClick={() => this.props.history.push(\"/\")}\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\n          alt=\"\"\n        />\n          <h1>Login</h1>\n  \n          <form onSubmit={this.handleFormSubmit}>\n            \n            <label>Username:</label>\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n  \n            <label>Password:</label>\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n  \n            <input type=\"submit\" id=\"login-btn\" className=\"yellowbutton\" value=\"Login\" />\n          </form>\n          <p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\n        </div>\n      );\n    }\n}\n\nexport default withAuth(Login)","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../../lib/AuthProvider\";\nimport authService from \"../../../lib/services/auth-service\";\nimport \"./signup.css\";\n\nimport { profileImages } from \"../../../lib/config/images\";\nimport LoadingGif from \"./../../../components/LoadingGif\";\n\nvar profileImagesIndex = Math.floor(Math.random() * profileImages.length);\n\nclass Signup extends Component {\n  state = { username: \"\", password: \"\", image: null, imageLoaded: true };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password, image } = this.state;\n    this.props.signup({ username, password, image });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n    setTimeout(()=>console.log(this.state), 200)\n  };\n\n  fileChange = event => {\n    this.setState({ imageLoaded: false });\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"photo\", file);\n\n    authService\n      .imageUpload(uploadData)\n      .then(image => {\n        this.setState({ image });\n        this.setState({ imageLoaded: true });\n      })\n      .catch(error => console.log(error));\n  };\n\n  changeImage(instruction) {\n    switch (instruction) {\n      case \"to_previous\":\n        profileImagesIndex--;\n        if (profileImagesIndex < 1) {\n          profileImagesIndex = profileImages.length - 1;\n        }\n        break;\n      case \"to_next\":\n        profileImagesIndex++;\n        if (profileImagesIndex > profileImages.length - 1) {\n          profileImagesIndex = 1;\n        }\n        break;\n      default:\n    }\n    this.setState({\n      image: profileImages[profileImagesIndex]\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      image: profileImages[profileImagesIndex]\n    });\n  }\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <div className=\"signup\">\n        <div className=\"auth-background\">\n          <div></div>\n        </div>\n        <div className=\"signup-backgound\"></div>\n        <img\n          id=\"auth-back\"\n          onClick={() => this.props.history.push(\"/\")}\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\n          alt=\"\"\n        />\n        <h1>Welcome!!</h1>\n        {!this.state.image ? null : (\n          <div>\n            <img\n              id=\"signup-back-arrow\"\n              src=\"https://img.icons8.com/material-two-tone/96/000000/back.png\"\n              alt=\"\"\n              onClick={() => this.changeImage(\"to_previous\")}\n            />\n            {!this.state.imageLoaded ? (\n              <LoadingGif\n                view=\"signup\"\n                className=\"signup-profile-img loading-profile-img\"\n              />\n            ) : (\n              <img\n                className=\"signup-profile-img\"\n                src={this.state.image}\n                alt=\"\"\n              />\n            )}\n            <img\n              id=\"signup-next-arrow\"\n              src=\"https://img.icons8.com/material/96/000000/forward--v1.png\"\n              alt=\"\"\n              onClick={() => this.changeImage(\"to_next\")}\n            />\n          </div>\n        )}\n        <p>Please, fill in the fields below:</p>\n        <form\n          onSubmit={this.handleFormSubmit}\n          noValidate\n          encType=\"multipart/form-data\"\n        >\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            className=\"signup-input\"\n            placeholder=\"Your username\"\n            onChange={this.handleChange}\n          />\n\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Your password\"\n            className=\"signup-input\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={e => this.fileChange(e)}\n            id=\"file\"\n          />\n          <label htmlFor=\"file\" className=\"btn-3\">\n            <span>Upload an image</span>\n          </label>\n\n          <br />\n          {this.state.imageLoaded ? (\n            <input\n              type=\"submit\"\n              value=\"Signup\"\n              className=\"signup-btn yellowbutton\"\n            />\n          ) : (\n            <input\n              type=\"button\"\n              value=\"Signup\"\n              className=\"signup-btn disabledbutton\"\n            />\n          )}\n        </form>\n\n        <p>\n          Already have account? <Link to={\"/login\"}> Log In</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport shortid from \"shortid\";\nimport \"./ProfileDisplay.css\";\nimport userService from \"./../../lib/services/user-services\";\nimport paintingService from \"../../lib/services/painting-service\";\nimport LoadingGif from \"./../LoadingGif\"\nimport Image from \"./../Image\"\n\nexport default class ProfileDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // userId: \"\",\n      user: {}\n    };\n  }\n\n  componentDidMount = () => {\n    this.refreshProfile();\n    if(document\n      .querySelector(\"#navbar-profile-img\")){\n        document\n          .querySelector(\"#navbar-profile-img\")\n          .addEventListener(\"click\", () => this.refreshProfile());\n      }\n  };\n\n  refreshProfile = async () => {\n    setTimeout(async () => {\n      const userData = await userService.getUser(\n        this.props.match.params.userId\n      );\n      this.setState({ user: userData });\n    }, 50);\n  };\n\n  deleteMe = paintingId => {\n    paintingService.delete(paintingId);\n    setTimeout(async () => {\n      const userData = await userService.getUser(this.props.user._id);\n      this.setState({ user: userData });\n    }, 50);\n  };\n\n  LogoutAndGoToSignup = ()=> {\n    this.props.logout()\n    // .then(()=>{\n    //   this.props.history.push(\"/signup\")\n    // })\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.user ? <LoadingGif/> : (\n          <div key={shortid.generate()} className=\"profile-info\">\n            {!this.props.user ? null : (\n              <span>\n                {this.props.user._id !== this.state.user._id ? null : (\n                  <button className=\"redbutton logout-button\" onClick={this.LogoutAndGoToSignup}>\n                    LOGOUT\n                  </button>\n                )}\n              </span>\n            )}\n\n            {!this.state.user.paintings ? <LoadingGif/> : !this.state.user\n                .paintings[0] ? <h1 className=\"profile-empty-err\">You don't have any style cards yet :(</h1> : (\n              <div>\n                {!this.props.user ? <h1 id=\"details-title-not-user\">{this.state.user.username}'s style cards</h1> : this.props.user._id !== this.state.user._id ? (\n                  <h1>{this.state.user.username}'s style cards</h1>\n                ) : (\n                  <h1>Your style cards</h1>\n                )}\n\n                <ul className=\"profile-paintings-wrapper\">\n                  {this.state.user.paintings.map(painting => (\n                    <div key={shortid.generate()} className=\"profile-painting\">\n                      <Link to={`/painting/${painting._id}`}>\n                      <Image src={painting.image} view=\"profile\"/>\n                      </Link>\n                      <div>\n                        {!this.props.user? <Link to={`/painting/${painting._id}`}>\n                          <p className=\"other-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link> :this.props.user._id !== this.state.user._id ? \n                          <Link to={`/painting/${painting._id}`}>\n                          <p className=\"other-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link> : (\n                          <Link to={`/painting/${painting._id}`}>\n                          <p className=\"my-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link>\n                        )}\n                        \n                        <p>{painting.description}</p>\n                        <div>\n                          {!this.props.user? null\n                          :\n                          this.props.user._id !==\n                          this.state.user._id ? null : (\n                            <div>\n                              <button\n                                className=\"redbutton\"\n                                onClick={() => {\n                                  this.deleteMe(painting._id);\n                                }}\n                              >\n                                DELETE\n                              </button>\n                              <span>\n                                <Link to={`/painting/edit/${painting._id}`}>\n                                  <button className=\"yellowbutton\">EDIT</button>\n                                </Link>\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport ProfileDisplay from \"../components/ProfileDisplay/ProfileDisplay\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { user, logout } = this.props;\n    return (\n      <div>\n        <Navbar {...this.props} refresh={this.refresh}/>\n        {user ? <ProfileDisplay user={user._id} logout={logout} {...this.props}/> : \n        <ProfileDisplay {...this.props}/>}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {chatIcon} from \"./../../../lib/config/images\"\n\nexport default class ChatLink extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n      const { creator, creatorUsername, user } = this.props\n    return (\n      <div className=\"detail-creator-info-div\">\n        <p>\n          By: <Link to={`/profile/${creator}`}>{creatorUsername}</Link>\n        </p>\n\n        {!user ? null : user._id !== creator ? (\n          <Link to={`/chat/${creator}/${user._id}`}>\n            <img src={chatIcon} alt=\"\" />\n          </Link>\n        ) : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Tag extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      className: \"hidden\"\n    };\n  }\n\n  changeClassName = () => {\n    if (this.state.className === \"hidden\")\n      this.setState({ className: \"add-tag-delete-img\" });\n    else {\n      this.setState({ className: \"hidden\" });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"one-tag-wrapper\">\n        {this.props.view === \"add-form\" ? (\n          <span\n            onMouseOut={this.changeClassName}\n            onMouseOver={this.changeClassName}\n            className=\"add-displayed-tag\"\n          >\n            {this.props.text}\n            <img\n              onClick={this.props.deleteTag}\n              className={this.state.className}\n              src=\"https://www.pngix.com/pngfile/big/90-905356_close-svg-png-icon-free-download-icone-x.png\"\n              alt=\"\"\n            />\n          </span>\n        ) : (\n          <span className=\"add-displayed-tag\">{this.props.text}</span>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport shortid from \"shortid\";\n\nimport Tag from \"./../../AddPainting/Tag\";\n\nexport default class Tags extends Component {\n    constructor(props){\n        super(props)\n        this.state={}\n    }\n    render() {\n        const { tags } = this.props\n        return (\n            <div className=\"details-tags-wrapper\">\n              {!tags\n                ? null\n                : tags.map(tag => (\n                    <Link key={shortid.generate()} to={`/?tag=${tag}`}>\n                      <Tag text={tag}></Tag>\n                    </Link>\n                  ))}\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { editIcon } from \"./../../../lib/config/images\";\n\nexport default class Title extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { title, id, ownPainting } = this.props;\n    return (\n      <div>\n        {ownPainting ? (\n          <div className=\"details-title-wrapper\">\n            <p className=\"details-title\">{title}</p>\n            <span>\n              <Link to={`/painting/edit/${id}`}>\n                <img src={editIcon} alt=\"\" />\n              </Link>\n            </span>\n          </div>\n        ) : (\n          <div className=\"details-title-wrapper\">\n            <p className=\"details-title\">{title}</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { timeSince } from \"./../../../lib/config/functions\";\n\nexport default class CreationDate extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { created_at } = this.props;\n    return (\n      <div className=\"creation-date\">\n        <p>Created {timeSince(Date.parse(created_at)) + \" ago.\"}</p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { seenImg } from \"../../../lib/config/images\";\n\nexport default class SeenIcon extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    const { timesSeen } = this.props;\n    return (\n      <div>\n        <img className=\"edit-seenTimes\" src={seenImg} alt=\"\" />\n        <span>{timesSeen}</span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport SeenIcon from \"./../Icon/SeenIcon\";\nimport LikeIcon from \"./../Icon/LikeIcon\";\n\nexport default class Info extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    const { timesSeen, user, paintingId, game, loggedIn } = this.props;\n    return (\n      <div>\n        {loggedIn ? (\n          <div className=\"details-view-info\">\n            <SeenIcon timesSeen={timesSeen} />\n            {!this.props.user ? null : (\n              <div>\n                <LikeIcon\n                  loggedIn\n                  includeLikes\n                  userId={user._id}\n                  id={paintingId}\n                />\n              </div>\n            )}\n            <span className=\"details-game\">\n              <Link to={`/?game=${game}`}>{game}</Link>\n            </span>\n          </div>\n        ) : (\n          <div className=\"details-view-info\">\n            <SeenIcon timesSeen={timesSeen} />\n            <LikeIcon />\n            <span className=\"details-game\">\n              <Link to={`/?game=${game}`}>{game}</Link>\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../lib/AuthProvider\";\n\nimport \"./DetailsPainting.css\";\n\nimport paintingService from \"../../lib/services/painting-service\";\n\nimport LoadingGif from \"../LoadingGif\";\nimport Image from \"./../Image\";\nimport CreatorDetails from \"./CreatorDetails/CreatorDetails\";\nimport Tags from \"./Tags/Tags\";\nimport Title from \"./Title/Title\";\nimport CreationDate from \"./CreationDate/CreationDate\";\nimport Info from \"./Info/Info\";\n\nclass PaintingDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paintingId: props.paintingId,\n      paintingDetails: {}\n    };\n  }\n\n  componentDidMount = async () => {\n    setTimeout(async () => {\n      const imgData = await paintingService.getDetails(this.state.paintingId);\n      this.setState({ paintingDetails: imgData });\n    }, 50);\n  };\n\n  render() {\n    const { user, isLoggedIn } = this.props;\n    const {\n      image,\n      title,\n      description,\n      creator,\n      creatorUsername,\n      timesSeen,\n      usersWhoLiked,\n      tags,\n      created_at,\n      game\n    } = this.state.paintingDetails;\n    const paintingId = this.state.paintingDetails._id;\n\n    return (\n      <div>\n        {!this.state.paintingDetails.image ? (\n          <LoadingGif />\n        ) : isLoggedIn ? (\n          <div className=\"details-div\">\n\n            <div>\n\n              <Image src={image} view=\"display\" className=\"edit-main-img\" />\n\n              <Info\n                loggedIn\n                timesSeen={timesSeen}\n                Liked={usersWhoLiked}\n                user={user}\n                paintingId={paintingId}\n                game={game}\n              />\n\n              {user._id === creator ? (\n                <Title\n                  ownPainting\n                  id={this.state.paintingDetails._id}\n                  title={title}\n                />\n              ) : (\n                <Title title={title} />\n              )}\n\n              {!description ? null : (\n                <p id=\"details-description\">{description}</p>\n              )}\n\n              <Tags tags={tags} />\n\n              <CreatorDetails\n                user={user}\n                creator={creator}\n                creatorUsername={creatorUsername}\n              />\n\n              <CreationDate created_at={created_at} />\n\n            </div>\n\n          </div>\n        ) : (\n          <div className=\"details-div\">\n\n            <Image src={image} view=\"display\" className=\"edit-main-img\" />\n\n            <Title title={title} />\n\n            {!description ? null : (\n              <p id=\"details-description\">{description}</p>\n            )}\n\n            <Tags tags={tags} />\n\n            <CreatorDetails\n              user={user}\n              creator={creator}\n              creatorUsername={creatorUsername}\n            />\n\n            <CreationDate created_at={created_at} />\n\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingDetails);\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport PaintingDetails from \"../components/DetailsPainting/DetailsPainting\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (\n      <div>\n        <Navbar  view=\"details\" {...this.props}/>\n        <PaintingDetails {...this.props} paintingId={this.props.match.params.paintingId} />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import shortid from \"shortid\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport userService from \"./../../lib/services/user-services\";\nimport { timeSince } from \"./../../lib/config/functions\"\n\nimport LoadingGif from \"./../LoadingGif\";\n\nimport \"./ChatsDisplay.css\";\n\nexport default class ChatsDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chats: null\n    };\n  }\n\n  componentDidMount = async () => {\n    const userId = this.props.match.params.userId;\n    const chats = await userService.getUserChatRooms(userId);\n    this.setState({ chats: chats });\n    chats.forEach(async (chat, i) => {\n      const otherUserId = this.getOtherUser(chat.roomId, userId);\n      if (otherUserId.split(\"\").length === userId.split(\"\").length) {\n        const otherUserData = await userService.getUser(otherUserId);\n        this.setState({\n          [otherUserData._id]: {\n            image: otherUserData.image,\n            username: otherUserData.username\n          }\n        });\n      } else {\n        chats.splice(i, 1);\n      }\n    });\n  };\n\n  //!!! KEEP BOT IDS IT IN CHAT MODEL\n  getOtherUser(roomId, userId) {\n    let result = roomId.split(userId).join(\"\");\n    // console.log(\"I am \", userId, \" so the result is \", result);\n    if (result.length === userId.length) {\n      return result;\n    } else {\n      return result.split(userId).join(\"\");\n    }\n  }\n\n  ///!!! FIX THIS. SHOULD NOT BE NEEDED\n  IMessedUp(roomId, userId) {\n    var regExp = new RegExp(userId, \"g\");\n    console.log(roomId)\n    if ((roomId.match(regExp) || []).length > 1) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const { chats } = this.state;\n    const userId = this.props.match.params.userId;\n    return (\n      <div>\n        <h1 style={{ margin: \"4vh 0\" }}>Your chats</h1>\n        {!chats ? (\n          <LoadingGif />\n        ) : !chats.length ? (\n          <h2>You have no active chats...</h2>\n        ) : (\n          chats.map(chat => {\n            return (\n              <span key={shortid.generate()}>\n                {!this.IMessedUp(chat.roomId, userId) ? \"a\" : (\n                  <div>\n                    <div className=\"chats-chat-item\">\n                      {!this.state[\n                        this.getOtherUser(chat.roomId, userId)\n                      ] ? null : (\n                        <Link\n                          to={`/profile/${this.getOtherUser(\n                            chat.roomId,\n                            userId\n                          )}`}\n                        >\n                          <img\n                            src={\n                              this.state[this.getOtherUser(chat.roomId, userId)]\n                                .image\n                            }\n                            alt=\"\"\n                            className=\"chats-user-img\"\n                          />\n                          <p id=\"chats-chat-username\">\n                            {\n                              this.state[this.getOtherUser(chat.roomId, userId)]\n                                .username\n                            }\n                          </p>\n                        </Link>\n                      )}\n                      <div className=\"chats-info-div\">\n                        <Link\n                          to={`/chat/${userId}/${this.getOtherUser(\n                            chat.roomId,\n                            userId\n                          )}`}\n                          style={{ color: \"black\" }}\n                        >\n                          <p className=\"chats-comment-title\">Last message:</p>\n                          <div>\n                            {!chat.comments.length ? (\n                              <p>Write your first comment!</p>\n                            ) : (\n                              <div className=\"chats-last-msg-and-time\">\n                                <p className=\"chats-comment-text\">\n                                  {\n                                    chat.comments[chat.comments.length - 1]\n                                      .commentText\n                                  }\n                                </p>\n                              </div>\n                            )}\n                            {!chat.comments[chat.comments.length - 1] ? null : (\n                              <p className=\"chats-time-ago\">\n                                {timeSince(\n                                  Date.parse(\n                                    chat.comments[chat.comments.length - 1]\n                                      .created_at\n                                  )\n                                )}\n                              </p>\n                            )}\n                          </div>\n                        </Link>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </span>\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport paintingService from \"../lib/services/painting-service\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport ChatsDisplay from \"../components/Chats/ChatsDisplay\"\n\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        paintingDetails: null,\n        newPainting: null\n    };\n  }\n\n\n  componentDidMount=async()=>{\n      const { paintingId } = this.props.match.params \n      const imgData = await paintingService.getDetails(paintingId);\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\n  }\n\n  render() {\n    const { user } = this.props\n    return (\n      <div>\n        <Navbar  {...this.props}/>\n        <ChatsDisplay {...this.props} user={user}/>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import React, { Component } from \"react\";\nimport shortid from \"shortid\";\nimport \"./AddPaintingForm.css\";\n\nimport Tag from \"./Tag\";\n\nexport default class AddPaintingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      image: \"\",\n      tags: []\n    };\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"add-painting-form\">\n        <h1>Add a new style card</h1>\n        <p id=\"error-message\" style={{color: \"red\"}} className=\"hidden\">\n          Error mesage\n        </p>\n        <form onSubmit={this.props.handleSubmit} className=\"add-form\">\n          <input\n            className=\"add-input\"\n            onChange={this.props.handleChange}\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Title\"\n            required\n          />\n\n          <textarea\n            className=\"add-description\"\n            onChange={this.props.handleChange}\n            type=\"text\"\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={e => this.props.fileChange(e)}\n            id=\"file\"\n          />\n          <label for=\"file\" className=\"btn-3\">\n            <span>Upload</span>\n          </label>\n          <span>or</span>\n          <input\n          onChange={this.props.handleChange}\n            id=\"signup-img-link\"\n            className=\"signup-input\"\n            name=\"image\"\n            placeholder=\"Link an image (Sketchfab OK)\"\n          />\n\n          <div id=\"add-tags-display\">\n          {!this.props.tags.length\n            ? null\n            : this.props.tags.map(tag => {\n                return <Tag view=\"add-form\" key={shortid.generate()}deleteTag={()=>this.props.deleteTag(tag)} text={tag}></Tag>;\n              })}\n              </div>\n          <input\n            className=\"add-input add-tags-fake\"\n            onChange={this.props.addTagValue}\n            type=\"text\"\n            name=\"tags\"\n            placeholder=\"Tags (separated with spaces)\"\n          />\n\n          <select\n            id=\"select\"\n            size=\"1\"\n            name=\"game\"\n            onChange={this.props.handleSelectChange}\n            className=\"browser-default  custom-select-lg mb-3 select\"\n          >\n            <option>Warhammer 40k</option>\n            <option>Warhammer Fantasy</option>\n            <option>Legends of the Old West</option>\n          </select>\n\n          <button className=\"yellowbutton add-btn\">Submit</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Navbar from \"../components/Navbar/Navbar\";\nimport AddPaintingForm from \"../components/AddPainting/AddPaintingForm\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport paintingService from \"../lib/services/painting-service\";\n\nclass PaintingsAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newPainting: {\n        title: \"\",\n        description: \"\",\n        image: \"\",\n        tags: [],\n        game: \"Warhammer 40k\"\n      }\n    };\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    //!!!\n    if (this.state.newPainting.title.split(\"\").length < 17) {\n      // if (this.state.newPainting.image.split(\"\").length){\n        const newPainting = await paintingService.postPainting({\n          title: this.state.newPainting.title,\n          description: this.state.newPainting.description,\n          image: this.state.newPainting.image,\n          tags: this.state.newPainting.tags,\n          creator: this.props.user._id,\n          creatorUsername: this.props.user.username, //!!!\n          game: this.state.newPainting.game\n        });\n        if (newPainting) {\n          this.props.history.push(`/painting/${newPainting._id}`);\n        }\n      // } else {\n      //   const errorMessage = document.querySelector(\"#error-message\");\n      //   errorMessage.innerHTML = \"Image format is not accepted\";\n      //   errorMessage.classList.remove(\"hidden\");\n      // }\n    } else {\n      const errorMessage = document.querySelector(\"#error-message\");\n      errorMessage.innerHTML = \"Title must not be longer than 16 characters\";\n      errorMessage.classList.remove(\"hidden\");\n    }\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    const newPaintingCopy = { ...this.state.newPainting };\n    newPaintingCopy[name] = value;\n    this.setState({ newPainting: newPaintingCopy });\n  };\n\n  handleSelectChange = e => {\n    var e = document.getElementById(\"select\");\n    var value = e.options[e.selectedIndex].value;\n    const newPaintingCopy = { ...this.state.newPainting };\n    newPaintingCopy[\"game\"] = value;\n    this.setState({ newPainting: newPaintingCopy });\n  };\n\n  fileChange = event => {\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"photo\", file);\n\n    paintingService\n      .imageUpload(uploadData)\n      .then(image => {\n        const newPaintingCopy = { ...this.state.newPainting };\n        newPaintingCopy.image = image;\n        this.setState({ newPainting: newPaintingCopy });\n        this.setState({ image });\n      })\n      .catch(error => console.log(error));\n  };\n\n  addTagValue = e => {\n    const fakeTagsInput = e.target;\n    let fakeTagsInputValue = fakeTagsInput.value;\n    const valueArr = fakeTagsInputValue.split(\"\");\n    const lastCharacterInInput = valueArr[valueArr.length - 1];\n    const firstCharacterInInput = valueArr[0];\n\n    if (firstCharacterInInput === \" \") {\n      fakeTagsInput.value = \"\";\n      return;\n    }\n    if (lastCharacterInInput === \" \") {\n      fakeTagsInputValue = fakeTagsInputValue.split(\"\");\n      fakeTagsInputValue.pop();\n      fakeTagsInputValue = fakeTagsInputValue.join(\"\");\n      if (this.state.newPainting.tags.indexOf(fakeTagsInputValue) !== -1) {\n        fakeTagsInput.value = \"\";\n        return;\n      }\n      const tagsCopy = [...this.state.newPainting.tags, fakeTagsInputValue];\n      const newPaintingCopy = { ...this.state.newPainting };\n      newPaintingCopy.tags = tagsCopy;\n      this.setState({ newPainting: newPaintingCopy });\n      fakeTagsInput.value = \"\";\n    }\n  };\n\n  deleteTag = tag => {\n    const tagsCopy = this.state.newPainting.tags;\n    if (tagsCopy.indexOf(tag) !== -1) {\n      tagsCopy.splice(tagsCopy.indexOf(tag), 1);\n      const newPaintingCopy = { ...this.state.newPainting };\n      newPaintingCopy.tags = tagsCopy;\n      this.setState({ newPainting: newPaintingCopy });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar {...this.props} />\n        <AddPaintingForm\n          handleChange={this.handleChange}\n          handleSelectChange={this.handleSelectChange}\n          handleSubmit={this.handleSubmit}\n          deleteTag={this.deleteTag}\n          fileChange={this.fileChange}\n          tags={this.state.newPainting.tags}\n          addTagValue={this.addTagValue}\n          user={this.props.user}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingsAdd);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport Image from \"./../Image\"\nimport \"./EditForm.css\";\n\nclass PaintingDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { painting } = this.props;\n    return (\n      <div className=\"edit-painting-div\">\n        {!painting ? null : (\n          <div>\n            <h1>Edit</h1>\n            <p id=\"error-message\" className=\"hidden\">\n              Error mesage\n            </p>\n            {!painting.image.includes(\"sketchfab.com\") ? (\n              <Image view=\"edit\" src={painting.image}/>\n            ) : (\n              \n              <Image view=\"edit\" src={painting.image}/>\n            )}\n            <form onSubmit={this.props.handleSubmit} className=\"edit-form\">\n              <table>\n                <tbody>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"title\">Title</label>\n                    </td>\n                    <td>\n                      <input\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"title\"\n                        placeholder=\"title\"\n                        value={painting.title}\n                        required\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"description\">Description</label>\n                    </td>\n                    <td>\n                      <textarea\n                      id=\"edit-description\"\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"description\"\n                        value={painting.description}\n                        placeholder=\"description\"\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"\">Tags</label>\n                    </td>\n                    <td>\n                      <input\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"tags\"\n                        value={painting.tags.join(\", \")}\n                        placeholder=\"tags\"\n                      />\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <button  className=\"yellowbutton edit-btn\">Update</button>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingDetails);\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport EditDiv from \"../components/EditPainting/EditForm\";\nimport paintingService from \"../lib/services/painting-service\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        paintingDetails: null,\n        newPainting: null\n    };\n  }\n\n\n  componentDidMount=async()=>{\n      const { paintingId } = this.props.match.params \n      const imgData = await paintingService.getDetails(paintingId);\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\n  }\n\n  handleChange = (event)=>{\n      const { name, value } = event.target\n      const newPaintingCopy = {...this.state.newPainting}\n      if(name!==\"tags\"){\n        newPaintingCopy[name]=value\n      } else {\n        const withoutEmptyTags = value.split(\", \").filter(tag =>tag!==\"\")\n        newPaintingCopy[name]=withoutEmptyTags\n      }\n      this.setState({ newPainting: newPaintingCopy });\n  }\n\n  handleSubmit = async (e)=>{\n      e.preventDefault();\n      const updatedPainting = await paintingService.updatePaintingByPut(this.state.newPainting)\n      if(updatedPainting.title){\n          this.props.history.push(`/painting/${this.props.match.params.paintingId}`)\n      }\n}\n\n  render() {\n    return (\n      <div>\n        <Navbar  {...this.props}/>\n        <EditDiv painting={this.state.newPainting} \n        handleChange={this.handleChange}\n        handleSubmit={this.handleSubmit}/>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import axios from \"axios\";\n\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.chat = axios.create({\n      baseURL: baseURL,\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  getChatData(ids) {\n    const { creatorId, userId } = ids;\n    return this.chat\n      .get(`/chat/${creatorId}/${userId}`)\n      .then(({ data }) => data);\n  }\n\n  postComment(data) {\n    const { userId, creatorId, newCommentData } = data;\n    return this.chat\n      .post(`/chat/comment/${creatorId}/${userId}`, newCommentData)\n      .then(data => {\n        return data;\n      });\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\nimport shortid from \"shortid\";\nimport { geolocated } from \"react-geolocated\";\nimport \"./ChatMain.css\";\n\nclass ChatMain extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { user } = this.props;\n    return (\n      <div className=\"chat\">\n        {!this.props.chat\n          ? null\n          : !user\n          ? null\n          : this.props.chat.a.comments.map(comment => {\n              return (\n                <div key={shortid.generate()}>\n                      \n                  {comment.creatorId === user._id ? (\n                    <div\n                      className=\"my-chat-comment-wrapper\"\n                    >\n                      <div className=\"talktext\">\n                        <p className=\"my-chat-comment\">{comment.commentText}</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div\n                      key={shortid.generate()}\n                      className=\"other-chat-comment-wrapper\"\n                    >\n                      <div className=\"talktext\">\n                        <p className=\"other-user-chat-comment\">\n                          {comment.commentText}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n      </div>\n    );\n  }\n}\n\nexport default geolocated({\n  positionOptions: {\n      enableHighAccuracy: false,\n  },\n  userDecisionTimeout: 5000,\n})(ChatMain);","import React, { Component, PropTypes } from \"react\";\nimport \"./ChatForm.css\";\n// import { bindActionCreators } from \"react-redux\"\n// import { connect } from \"react-redux\";\n\nexport default class ChatMain extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newComment: {\n        creatorUsername: this.props.user.username, // this.props.user.username,\n        creatorId: this.props.user._id, //this.props.user._id,\n        commentText: \"\",\n        commentImage: \"\"\n      }\n    };\n  }\n\n  // static propTypes = {\n  //   comment: this.PropTypes.object.isRequired\n  // }\n\n  componentDidMount() {\n    // const allInputs = document.querySelectorAll(\"input\");\n    // const textInput = allInputs[0];\n    // const qtyInput = allInputs[1];\n    \n    // document.querySelector(\".show-chatform2\").addEventListener(\"click\", () => {\n    //   document.querySelector(\".chatform2\").classList.toggle(\"hidden\");\n    // });\n    // document.querySelector(\"#showform2\").addEventListener(\"click\", () => {\n    //   document.querySelector(\".invoiceform\").classList.remove(\"hidden\");\n    //   document.querySelector(\".chatform2\").classList.add(\"hidden\");\n    // });\n    // document\n    //   .querySelector(\".close-incoiceform\")\n    //   .addEventListener(\"click\", () => {\n    //     document.querySelector(\".invoiceform\").classList.add(\"hidden\");\n    //   });\n    // document.addEventListener(\"keydown\", e => {\n    //   if ((e.code === \"Enter\"||e.code===\"NumpadEnter\") && (textInput==document.activeElement||qtyInput==document.activeElement)) {\n    //     console.log(textInput);\n    //   }\n    // });\n  }\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    const newCommenCopy = { ...this.state.newComment };\n    newCommenCopy[name] = value;\n    this.setState({ newComment: newCommenCopy });\n  };\n\n  preventDefaultAndSendComment = e => {\n    e.preventDefault();\n    if (this.state.newComment.commentText !== \"\") {\n      this.props.sendComment(this.state.newComment);\n      const newCommenCopy = { ...this.state.newComment };\n      newCommenCopy.commentText = \"\";\n      this.setState({ newComment: newCommenCopy });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"invoiceform hidden\">\n          <div>\n            <p className=\"close-incoiceform\">x</p>\n            <div>\n              <input></input>\n              <p>x</p>\n              <input></input>\n              <p> x</p>\n              <input value=\"1\" style={{textAlign:\"center\"}}></input>\n              <p>=</p>\n              <p></p>\n            </div>\n          </div>\n        </div>\n        <div className=\"chatform2 hidden\">\n          <p id=\"showform2\" >+ INVOICE</p>\n        </div>\n        <form\n          onSubmit={e => this.preventDefaultAndSendComment(e)}\n          className=\"chatform\"\n        >\n          <div className=\"show-chatform2 hidden\">+</div>\n          <input\n            type=\"text\"\n            name=\"commentText\"\n            onChange={this.handleChange}\n            value={this.state.newComment.commentText}\n          />\n          <input\n            type=\"submit\"\n            value=\"Send\"\n            className=\"yellowbutton chat-send-btn\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  comment: state\n});\n\n// export default connect(mapStateToProps)(ChatMain)\n","import React, { Component } from \"react\";\n\nimport { withAuth } from \"../lib/AuthProvider\";\nimport chatService from \"../lib/services/chat-service\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport ChatMain from \"../components/chat/ChatMain/ChatMain\";\nimport ChatForm from \"../components/chat/ChatForm/ChatForm\";\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatData: null\n    };\n  }\n\n  componentDidMount = async () => {\n    this.setState({\n      chatData: await chatService.getChatData(this.props.match.params)\n    });\n  };\n\n  sendComment = async newComment => {\n    const data = { ...this.props.match.params };\n    data[\"newCommentData\"] = newComment;\n    await chatService.postComment(data);\n    const updatedChat2 = await chatService.getChatData(this.props.match.params);\n    this.setState({ chatData: updatedChat2 });\n  };\n\n  render() {\n    const {user} = this.props\n    return (\n      <div>\n        <Navbar {...this.props}/>\n        <ChatMain chat={this.state.chatData} user={user}></ChatMain>\n\n        {user ? (\n          <ChatForm\n            sendComment={this.sendComment}\n            user={user}\n          ></ChatForm>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Chat);\n","import React, { Component } from \"react\";\nimport \"./Error404.css\";\n\nimport { img404 } from \"./../../lib/config/images\";\n\nimport Navbar from \"./../Navbar/Navbar\";\n\nexport default class Error404 extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar {...this.props}/>\n        <div className=\"error-404\">\n          <img src={img404} alt=\"\" />\n          <h1>Oh, no!</h1>\n          <h1> We were not able to find that page</h1>\n          <p>It may have been deleted...</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport LoadingGif from \"./../LoadingGif\"\n\nfunction AnonRoute({ component: Component, isLoggedIn, isLoading, ...rest }) {\n  if (isLoading) {\n    return <LoadingGif/>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\n\nfunction PrivateRoute({\n  component: Component,\n  isLoggedIn,\n  isLoading,\n  ...rest\n}) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Home from \"./views/Home/Home\";\nimport Login from \"./views/Auth pages/Login/Login\";\nimport Signup from \"./views/Auth pages/Signup/Signup\";\nimport Profile from \"../src/views/Profile\";\nimport Painting from \"./views/Painting\";\nimport Chats from \"./views/Chats\";\nimport PaintingsAdd from \"./views/AddPaintings\";\nimport Edit from \"./views/Edit\";\nimport Chat from \"./views/Chat\";\nimport Error404 from \"./components/Errors/Error404\"\n\nimport AnonRoute from \"./components/a_Route Components/AnonRoute\";\nimport PrivateRoute from './components/a_Route Components/PrivateRoute';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <AnonRoute exact path=\"/login\" component={Login}></AnonRoute>\n          <AnonRoute exact path=\"/signup\" component={Signup}></AnonRoute>\n          <Route exact path=\"/profile\" component={Profile}></Route>\n          <Route exact path=\"/chats/:userId\" component={Chats}></Route>\n          <PrivateRoute exact path=\"/profile/:userId\" component={Profile}></PrivateRoute>\n          <Route\n            exact\n            path=\"/painting/edit/:paintingId\"\n            component={Edit}\n          ></Route>\n          <Route\n            exact\n            path=\"/painting/:paintingId\"\n            component={Painting}\n          ></Route>\n          <Route exact path=\"/paintings/add\" component={PaintingsAdd}></Route>\n          <Route exact path=\"/chat/:creatorId/:userId\" component={Chat}></Route>\n          <Route component={Error404}></Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport BabelCore from \"babel-core\"\n\nimport App from \"./App\";\nimport AuthProvider from \"./lib/AuthProvider\";\n\n\nReactDOM.render(\n      <AuthProvider>\n        <App />\n      </AuthProvider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}