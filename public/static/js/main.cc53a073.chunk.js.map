{"version":3,"sources":["lib/services/auth-service.js","lib/AuthProvider.js","components/Navbar/Navbar.js","components/ExploreBar/ExploreBar.js","lib/services/user-services.js","components/LoadingGif.js","components/Image.js","lib/services/painting-service.js","lib/config/images.js","lib/config/functions.js","components/DetailsPainting/Icon/LikeIcon.js","components/ListPainting/ListPainting.js","views/Home/Home.js","views/Auth pages/Login/Login.js","views/Auth pages/Signup/Signup.js","components/ProfileDisplay/ProfileDisplay.js","views/Profile.js","components/DetailsPainting/CreatorDetails/CreatorDetails.js","components/AddPainting/Tag.js","components/DetailsPainting/Tags/Tags.js","components/DetailsPainting/Title/Title.js","components/DetailsPainting/CreationDate/CreationDate.js","components/DetailsPainting/Icon/SeenIcon.js","components/DetailsPainting/Info/Info.js","components/DetailsPainting/DetailsPainting.js","views/Painting.js","components/Chats/ChatsDisplay.js","views/Chats.js","components/AddPainting/AddPaintingForm.js","views/AddPaintings.js","components/EditPainting/EditForm.js","views/Edit.js","lib/services/chat-service.js","components/chat/ChatMain/ChatMain.js","components/chat/ChatForm/ChatForm.js","views/Chat.js","components/Errors/Error404.js","components/a_Route Components/AnonRoute.js","components/a_Route Components/PrivateRoute.js","App.js","index.js"],"names":["baseURL","process","axiosRequestFunctions","this","auth","axios","create","withCredentials","user","username","password","image","post","then","data","catch","err","console","log","response","get","file","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedIn","isLoading","props","Component","AuthProvider","state","userData","authService","setState","me","value","children","profilePic","view","className","style","listStyleType","to","onClick","getHomePaintings","history","goBack","src","alt","_id","id","ExploreBar","getFilteredPaintings","filter","filterPaintings","sortPaintings","e","document","querySelector","options","selectedIndex","name","defaultValue","onChange","target","type","placeholder","onMouseOver","onMouseOut","users","res","string","patch","paintingId","LoadingGif","Image","componentWillReceiveProps","includes","width","margin","title","height","frameBorder","allow","mozallowfullscreen","webkitallowfullscreen","mgTouchOffsetY","mgTouchOffsetX","paddingBottom","marginBottom","maxHeight","paintings","message","painting","delete","filterStr","updatedPaiting","put","profileImages","filledStar","emptyStar","handleLikeAndToggleImageSource","userId","a","async","userService","handleLike","result","usersWhoLiked","timeSince","date","seconds","Math","floor","Date","interval","Icon","componentDidMount","paintingService","getDetails","paintingDetails","handleLikeAndToggleImageSourceBinded","bind","loggedIn","includeLikes","length","PaintingList","nextProps","addSeen","map","i","key","shortid","generate","liked","homePaintings","sortedPaintings","filteredPaintings","setTimeout","sort","lastSearch","b","created_at","timesSeen","toLowerCase","handleFormSubmit","event","preventDefault","handleChange","push","onSubmit","profileImagesIndex","random","imageLoaded","fileChange","files","uploadData","FormData","append","imageUpload","error","instruction","changeImage","noValidate","encType","htmlFor","ProfileDisplay","refreshProfile","addEventListener","getUser","match","params","deleteMe","LogoutAndGoToSignup","description","refresh","ChatLink","creator","creatorUsername","Tag","changeClassName","text","deleteTag","Tags","tags","tag","Title","ownPainting","CreationDate","parse","SeenIcon","Info","game","imgData","Liked","ChatsDisplay","getUserChatRooms","chats","forEach","chat","otherUserId","getOtherUser","roomId","split","otherUserData","splice","join","regExp","RegExp","IMessedUp","color","comments","commentText","newPainting","AddPaintingForm","handleSubmit","required","for","addTagValue","size","handleSelectChange","postPainting","errorMessage","innerHTML","classList","remove","newPaintingCopy","getElementById","fakeTagsInput","fakeTagsInputValue","valueArr","lastCharacterInInput","pop","indexOf","tagsCopy","withoutEmptyTags","updatePaintingByPut","ids","creatorId","newCommentData","ChatMain","comment","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","newCommenCopy","newComment","preventDefaultAndSendComment","sendComment","commentImage","textAlign","chatService","getChatData","chatData","postComment","updatedChat2","Error404","component","rest","render","App","exact","path","Home","Login","Signup","Profile","Chats","Edit","Painting","PaintingsAdd","Chat","ReactDOM"],"mappings":"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","file":"static/js/main.cc53a073.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL= process.env.REACT_APP_API_URL\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      baseURL: baseURL,\r\n      withCredentials: true //<-- Goes with CORS credentials\r\n    });\r\n  }\r\n\r\n  signup(user) {\r\n    const { username, password, image } = user;\r\n    return this.auth\r\n      .post(\"/auth/signup\", { username, password, image })\r\n      .then(({ data }) => {\r\n        return data})\r\n        .catch(err=>{\r\n          console.log(err)\r\n          return err})\r\n  }\r\n\r\n  login(user) {\r\n    const { username, password } = user;\r\n    return this.auth\r\n      .post(\"/auth/login\", { username, password })\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  logout() {\r\n    return this.auth.post(\"/auth/logout\", {}).then(response => response.data);\r\n  }\r\n\r\n  me() {\r\n    return this.auth.get(\"/auth/me\").then(response => response.data);\r\n  }\r\n\r\n  imageUpload(file) {\r\n    return this.auth.post(\"/auth/signup/image\", file).then(({ data }) => data);\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React, { Component } from \"react\";\r\nimport authService from \"./services/auth-service\";\r\n\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n// HOC that creates Consumer/s\r\nconst withAuth = WrappedComponent => {\r\n  return class extends React.Component {\r\n    render() {\r\n      return (\r\n        <Consumer>\r\n          {({ login, signup, user, logout, isLoggedIn, isLoading }) => {\r\n            return (\r\n              <WrappedComponent\r\n                login={login}\r\n                signup={signup}\r\n                user={user}\r\n                logout={logout}\r\n                isLoggedIn={isLoggedIn}\r\n                isLoading={isLoading}\r\n                {...this.props}\r\n              />\r\n            );\r\n          }}\r\n        </Consumer>\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\n// Provider\r\nclass AuthProvider extends Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n    user: null\r\n  };\r\n\r\n  login = userData => {\r\n    const { username, password } = userData;\r\n\r\n    authService\r\n      .login({ username, password })\r\n      .then(user => {\r\n        this.setState({ isLoggedIn: true, user });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  signup = userData => {\r\n    const { username, password, image } = userData;\r\n\r\n    return authService\r\n      .signup({ username, password, image })\r\n      .then(user => {\r\n        this.setState({ isLoggedIn: true, user });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  logout = () => {\r\n    return authService\r\n      .logout()\r\n      .then(() => {\r\n        this.setState({ isLoggedIn: false, user: null });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  componentDidMount() {\r\n    authService\r\n      .me()\r\n      .then(user => {\r\n        this.setState({ isLoggedIn: true, isLoading: false, user: user });\r\n      })\r\n      .catch(err =>\r\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\r\n      );\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, isLoggedIn, user } = this.state;\r\n    const { login, signup, logout } = this;\r\n\r\n    return (\r\n      <div>\r\n        {false ? ( //isLoading but only in Loading\r\n          <h1>Loading</h1>\r\n        ) : (\r\n          <Provider\r\n            value={{ isLoading, isLoggedIn, user, login, signup, logout }}\r\n          >\r\n            {this.props.children}\r\n          </Provider>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Consumer, withAuth };\r\n\r\nexport default AuthProvider;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport \"./Navbar.css\";\r\n\r\nclass Navbar extends React.Component {\r\n  state = {\r\n    profilePic: \"\"\r\n  };\r\n\r\n  render() {\r\n    const { user, isLoggedIn, view } = this.props;\r\n    return (\r\n      <div className=\"navbar\">\r\n        <ul>\r\n          {view === \"home\" ? (\r\n            <li style={{ listStyleType: \"none\" }}>\r\n              <Link to=\"/\" className=\"navbar-link\">\r\n                <h1 onClick={this.props.getHomePaintings}>Paintapop</h1>\r\n              </Link>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <img\r\n                onClick={() => this.props.history.goBack()}\r\n                src=\"https://img.icons8.com/metro/52/000000/back.png\"\r\n                alt=\"\"\r\n              />\r\n            </li>\r\n          )}\r\n\r\n          {view === \"home\" ? (\r\n            <li></li>\r\n          ) : (\r\n            <li style={{ listStyleType: \"none\" }}>\r\n              <Link to=\"/\" className=\"navbar-link\">\r\n                Paintapop\r\n              </Link>\r\n            </li>\r\n          )}\r\n\r\n          {isLoggedIn ? (\r\n            <li style={{ listStyleType: \"none\" }}>\r\n              <Link to={`/profile/${user._id}`} className=\"navbar-link\">\r\n                <img src={user.image} alt=\"\" id=\"navbar-profile-img\" />\r\n              </Link>\r\n            </li>\r\n          ) : (\r\n            <li style={{ listStyleType: \"none\" }}>\r\n              <Link to=\"/login\" className=\"navbar-link\">\r\n                Log In\r\n              </Link>\r\n            </li>\r\n          )}\r\n          {!isLoggedIn ? (\r\n            <li style={{ listStyleType: \"none\" }}>\r\n              <Link to=\"/signup\" className=\"navbar-link\">\r\n                Sign up\r\n              </Link>\r\n            </li>\r\n          ) : null}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport \"./ExploreBar.css\";\r\n\r\nexport default class ExploreBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  getFilteredPaintings = (filter) => {\r\n    this.props.filterPaintings(filter)\r\n    // const searchbar = document.querySelector(\".explore-searchbar\");\r\n    // this.props.getFilteredPaintings(`?title=${searchbar.value}`);\r\n  };\r\n\r\n  sortPaintings = () => {\r\n    const e = document.querySelector(\".select\");\r\n    const value = e.options[e.selectedIndex].value;\r\n    this.props.sortPaintings(value)\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"exploreBar\">\r\n        <div>\r\n          <span>Sort by:</span>\r\n          <select\r\n            name=\"\"\r\n            id=\"\"\r\n            className=\"select\"\r\n            onClick={this.sortPaintings}\r\n          >\r\n            <option defaultValue>Oldest</option>\r\n            <option>Newest</option>\r\n            <option>Most liked</option>\r\n            <option>Most seen</option>\r\n            {/* <option>Trending</option> */}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <input \r\n          className=\"explore-searchbar\" \r\n          onChange={(e)=>this.getFilteredPaintings(e.target.value)}\r\n          type=\"text\" placeholder=\"Search by title\"/>\r\n          <img\r\n            onMouseOver={()=>this.getFilteredPaintings}\r\n            onMouseOut={this.getFilteredPaintings}\r\n            onClick={()=>{this.getFilteredPaintings()}}\r\n            id=\"search-magnifying-glass\"\r\n            src=\"https://img.icons8.com/ios-glyphs/60/000000/search.png\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        \r\n            {/* this.getFilteredPaintings()} */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nconst baseURL= process.env.REACT_APP_API_URL\r\n\r\n\r\nclass Users {\r\n  constructor() {\r\n    this.users = axios.create({\r\n      baseURL: baseURL+\"/users\",\r\n      withCredentials: true //<-- Goes with CORS credentials\r\n    });\r\n  }\r\n\r\n  getUser(id) {\r\n    return this.users.get(`/${id}`).then(res => {\r\n      res.data.password = \"*\";\r\n      return res.data;\r\n    });\r\n  }\r\n  handleLike(string) {\r\n    return this.users.patch(string).then(res => {\r\n      return res.data;\r\n    });\r\n  }\r\n  addSeen(paintingId){\r\n    return this.users.patch(`/add-seen/${paintingId}`).then(res => {\r\n      res.data.password = \"*\";\r\n      return res.data;\r\n    });\r\n  }\r\n  getUserChatRooms(id) {\r\n    return this.users.get(`/chatrooms/${id}`).then(res => {\r\n      return res.data;\r\n    });\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Users();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class LoadingGif extends Component {\r\n  render() {\r\n    const { view, className } = this.props;\r\n    const src =\r\n      \"https://retchhh.files.wordpress.com/2015/03/loading1.gif?w=300&h=300\";\r\n    return (\r\n      <span>\r\n        {view === \"signup\" ? (\r\n          <img src={src} className={className} alt=\"\" />\r\n        ) : (\r\n          <img src={src} alt=\"\" />\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport LoadingGif from \"./LoadingGif\";\r\nimport Magnifier from \"react-magnifier\";\r\n\r\nexport default class Image extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentWillReceiveProps = () => {\r\n    this.setState({});\r\n  };\r\n  render() {\r\n    const { view, src, className } = this.props;\r\n    return (\r\n      <span>\r\n        {!src ? (\r\n          <LoadingGif />\r\n        ) : view === \"display\" ? (\r\n          src.includes(\"sketchfab.com\") ? (\r\n            <div className=\"sketchfab-embed-wrapper\">\r\n              <iframe\r\n                style={{ width: \"200vw\", margin: \"0 0 2vh\" }}\r\n                title=\"A 3D model\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n                src={src}\r\n                frameBorder=\"0\"\r\n                allow=\"autoplay; fullscreen; vr\"\r\n                mozallowfullscreen=\"true\"\r\n                webkitallowfullscreen=\"true\"\r\n              ></iframe>\r\n            </div>\r\n          ) : (\r\n            <Magnifier src={src} mgTouchOffsetY=\"100\" mgTouchOffsetX=\"0\" className={className} height=\"50vh\" width=\"90vw\"/>\r\n          )\r\n        ) : view === \"home\" ? (\r\n          src.includes(\"sketchfab.com\") ? (\r\n            <div className=\"sketchfab-embed-wrapper\"\r\n            style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\r\n            >\r\n              <iframe\r\n                style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\r\n                title=\"A 3D model\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n                src={src}\r\n                frameBorder=\"0\"\r\n                allow=\"autoplay; fullscreen; vr\"\r\n                mozallowfullscreen=\"true\"\r\n                webkitallowfullscreen=\"true\"\r\n              ></iframe>\r\n            </div>\r\n          ) : (\r\n            <img className={className} src={src} alt=\"\" />\r\n          )\r\n        ) : view === \"profile\" ? (\r\n          src.includes(\"sketchfab.com\") ? (\r\n            <div className=\"sketchfab-embed-wrapper\"\r\n            style={{ width: \"100%\", height: \"22vh\",maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\r\n            >\r\n              <iframe\r\n                style={{ width: \"20vh\", height: \"22vh\", maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\r\n                title=\"A 3D model\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n                src={src}\r\n                frameBorder=\"0\"\r\n                allow=\"autoplay; fullscreen; vr\"\r\n                mozallowfullscreen=\"true\"\r\n                webkitallowfullscreen=\"true\"\r\n              ></iframe>\r\n            </div>\r\n          ) : (\r\n            <img className={className} src={src} alt=\"\" />\r\n          )\r\n        ): view === \"edit\" ? (\r\n          src.includes(\"sketchfab.com\") ? (\r\n            <div \r\n            style={{ width: \"88vw\", height: \"32vh\", paddingBottom:\"0\", marginBottom: \"2vh\" }}\r\n            >\r\n              <iframe\r\n                style={{ width: \"100%\", height: \"32vh\", paddingBottom:\"0\"}}\r\n                title=\"A 3D model\"\r\n                width=\"640\"\r\n                height=\"480\"\r\n                src={src}\r\n                frameBorder=\"0\"\r\n                allow=\"autoplay; fullscreen; vr\"\r\n                mozallowfullscreen=\"true\"\r\n                webkitallowfullscreen=\"true\"\r\n              ></iframe>\r\n            </div>\r\n          ) : (\r\n            <img className={className} src={src} alt=\"\" />\r\n          )\r\n        )\r\n        :\r\n        null}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nconst baseURL= process.env.REACT_APP_API_URL\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.paintings = axios.create({\r\n      baseURL: baseURL+\"/paintings\",\r\n      withCredentials: true //<-- Goes with CORS credentials\r\n    });\r\n  }\r\n\r\n  imageUpload(file) {\r\n    return this.paintings.post(\"/image\", file).then(({ data }) => data);\r\n  }\r\n\r\n  getDetails(id) {\r\n    return this.paintings.get(`/${id}`).then(({ data }) => data)\r\n    .catch(err=>err.message)\r\n  }\r\n\r\n  getHomePaintings() {\r\n    return this.paintings.get(`/home`).then(({ data }) => {\r\n      return data;\r\n    });\r\n  }\r\n\r\n  postPainting(painting) {\r\n    return this.paintings.post(\"/\", painting).then(({ data }) => {\r\n      return data;\r\n    });\r\n  }\r\n\r\n  delete(paintingId) {\r\n    return this.paintings.delete(`/${paintingId}`);\r\n  }\r\n\r\n  getFilteredPaintings(filterStr) {\r\n    return this.paintings.get(`/${filterStr}`);\r\n  }\r\n\r\n  updatePaintingByPut(updatedPaiting) {\r\n    return this.paintings.put(`/${updatedPaiting._id}`, updatedPaiting).then(({data})=>data)\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","const profileImages = [\r\n    \"https://preview.redd.it/sv49tdht3ds11.jpg?width=768&auto=webp&s=83ce6a1b99746d62e26212e1d5e25d70adb10ce9\",\r\n    \"https://i.pinimg.com/564x/0c/e4/91/0ce491ecf9684f64e49436689e969e43.jpg\",\r\n    \"https://i.pinimg.com/564x/42/6b/18/426b181df40f7da0046007250aa08337.jpg\",\r\n    \"https://i.pinimg.com/564x/a8/47/a4/a847a4bc6d4085a7bc7137049399682d.jpg\",\r\n    \"https://i.pinimg.com/564x/a8/ac/4e/a8ac4e780e1e10ef63c8170cc77cfa91.jpg\",\r\n    \"https://i.pinimg.com/564x/c8/44/3c/c8443c350a0fa207e56608d7e29ba88a.jpg\",\r\n    \"https://i.pinimg.com/originals/78/8f/01/788f01cd3b6f12e579e261e753b04a42.jpg\",\r\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\r\n    \"https://i.pinimg.com/564x/e7/45/8b/e7458bd5c12a259ec25a38f85cd961fa.jpg\",\r\n    \"https://i.pinimg.com/564x/c3/4b/e1/c34be151f30f8846b61fdce0845b218e.jpg\",\r\n    \"https://i.pinimg.com/564x/b8/2a/74/b82a7472bf8d04f4e060dde71e8449b5.jpg\",\r\n    \"https://i.pinimg.com/564x/e9/fb/de/e9fbde75eb24431341f06d4fe70ad3b3.jpg\",\r\n    \"https://i.pinimg.com/564x/67/91/67/6791675473dfc08463daa60ef22ca72d.jpg\",\r\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\r\n    \"https://i.pinimg.com/564x/ad/0f/f1/ad0ff1cd210f02e3020ad307e7d4b70f.jpg\",\r\n    \"https://i.pinimg.com/564x/d7/29/14/d729140681bfa9faa2a43768eaa3c897.jpg\",\r\n    \"https://i.pinimg.com/564x/a1/2a/a8/a12aa8fb31279840191eacb0512aef6a.jpg\",\r\n    \"https://i.pinimg.com/564x/85/b8/b1/85b8b1ece7fcbd870c6b7163fc02018e.jpg\",\r\n    \"https://i.pinimg.com/564x/df/0c/09/df0c09967d74c081e14adcd8667fa2f9.jpg\",\r\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\r\n    \"https://i.pinimg.com/564x/19/26/1f/19261f46683c09b9bd6404dd3fe67cf9.jpg\",\r\n    \"https://i.pinimg.com/564x/ed/0b/72/ed0b726cdc3c83b54251aa55e2bbe861.jpg\",\r\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\r\n    \"https://i.pinimg.com/564x/80/01/28/80012896a137b0e4cd1c6058ca39496d.jpg\",\r\n    \"https://i.pinimg.com/564x/b0/63/d7/b063d7022d71973b43c9464759641224.jpg\",\r\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\r\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\r\n    \"https://i.pinimg.com/564x/e3/a9/2e/e3a92e964371d63fb452fe1a8d42e183.jpg\",\r\n    \"https://i.pinimg.com/564x/23/a2/d6/23a2d606d07de55c8838f6ec4bd5a14d.jpg\"\r\n]\r\n\r\nconst img404 = \"https://cdn.dribbble.com/users/2112205/screenshots/6311420/404.gif\"\r\n\r\nconst seenImg = \"https://img.icons8.com/material-rounded/96/000000/visible.png\"\r\n\r\nconst filledStar = \"https://img.icons8.com/color/100/000000/filled-star.png\"\r\n\r\nconst emptyStar = \"https://img.icons8.com/ios/50/000000/christmas-star.png\"\r\n\r\nconst editIcon = \"https://img.icons8.com/dusk/512/000000/edit.png\"\r\n\r\nconst chatIcon = \"https://img.icons8.com/plasticine/100/000000/chat.png\"\r\n\r\nexport { profileImages, img404, seenImg, filledStar, emptyStar, editIcon, chatIcon };","import { emptyStar } from \"./images\"\r\nimport userService from \"./../services/user-services\"\r\n\r\nasync function handleLikeAndToggleImageSource (e, userId) {\r\n  if (e.target.src === emptyStar) {\r\n    const paintingId = e.target.alt;\r\n    const result = await userService.handleLike(`/handle-like/like/${userId}/${paintingId}`)\r\n    this.setState({usersWhoLiked: result})\r\n    return result\r\n  } else {\r\n    const paintingId = e.target.alt;\r\n    const result =  await userService.handleLike(`/handle-like/unlike/${userId}/${paintingId}`)\r\n    this.setState({usersWhoLiked: result})\r\n    return result\r\n  }\r\n};\r\n\r\nconst timeSince = date => {\r\n    var seconds = Math.floor((new Date() - date) / 1000);\r\n\r\n    var interval = Math.floor(seconds / 31536000);\r\n\r\n    if (interval > 1) {\r\n      return interval + \" years\";\r\n    }\r\n    interval = Math.floor(seconds / 2592000);\r\n    if (interval > 1) {\r\n      return interval + \" months\";\r\n    }\r\n    interval = Math.floor(seconds / 86400);\r\n    if (interval > 1) {\r\n      return interval + \" days\";\r\n    }\r\n    interval = Math.floor(seconds / 3600);\r\n    if (interval > 1) {\r\n      return interval + \" hours\";\r\n    }\r\n    interval = Math.floor(seconds / 60);\r\n    if (interval > 1) {\r\n      return interval + \" minutes\";\r\n    }\r\n    return Math.floor(seconds) + \" seconds\";\r\n  };\r\n\r\nexport { handleLikeAndToggleImageSource, timeSince };\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport paintingService from \"./../../../lib/services/painting-service\"\r\n\r\nimport { filledStar, emptyStar } from \"../../../lib/config/images\";\r\nimport { handleLikeAndToggleImageSource } from \"../../../lib/config/functions\";\r\n\r\nexport default class Icon extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      usersWhoLiked: null,\r\n      handleLikeAndToggleImageSourceBinded: handleLikeAndToggleImageSource.bind(\r\n        this\r\n      )\r\n    };\r\n  }\r\n\r\n  componentDidMount=async ()=>{\r\n    const paintingDetails=await paintingService.getDetails(this.props.id)\r\n    this.setState({usersWhoLiked: paintingDetails.usersWhoLiked})\r\n  }\r\n\r\n  render() {\r\n    const { loggedIn, id, userId, includeLikes } = this.props;\r\n    const { usersWhoLiked, handleLikeAndToggleImageSourceBinded } = this.state;\r\n    return (\r\n      <span>\r\n        {!usersWhoLiked ? null : loggedIn ? (\r\n          includeLikes ? (\r\n            usersWhoLiked.includes(userId) ? (\r\n              <div>\r\n                <img\r\n                  className=\"details-filledStar\"\r\n                  onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\r\n                  src={filledStar}\r\n                  alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\r\n                />\r\n                <span id=\"likes-qty\">{usersWhoLiked.length}</span>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <img\r\n                  onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\r\n                  className=\"details-emptyStar\"\r\n                  src={emptyStar}\r\n                  alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\r\n                />\r\n                <span id=\"likes-qty\">{usersWhoLiked.length}</span>\r\n              </div>\r\n            )\r\n          ) : usersWhoLiked.includes(userId) ? (\r\n            <div>\r\n              <img\r\n                className=\"filledStar\"\r\n                onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\r\n                src={filledStar}\r\n                alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\r\n              />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <img\r\n                onClick={e => handleLikeAndToggleImageSourceBinded(e, userId)}\r\n                className=\"emptyStar\"\r\n                src={emptyStar}\r\n                alt={id} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\r\n              />\r\n            </div>\r\n          )\r\n        ) : !usersWhoLiked ? null : (\r\n          <div>\r\n            <Link to=\"/login\">\r\n              <img src={emptyStar} alt=\"\" />\r\n            </Link>\r\n            <span>{usersWhoLiked.length}</span>\r\n          </div>\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport userService from \"./../../lib/services/user-services\";\r\nimport shortid from \"shortid\";\r\n\r\nimport \"./ListPainting.css\";\r\n\r\nimport LoadingGif from \"./../LoadingGif\";\r\nimport Image from \"./../Image\";\r\nimport LikeIcon from \"./../DetailsPainting/Icon/LikeIcon\";\r\n\r\nimport { handleLikeAndToggleImageSource } from \"../../lib/config/functions\";\r\n\r\nexport default class PaintingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      paintings: props.paintings,\r\n      handleLikeAndToggleImageSourceBinded: handleLikeAndToggleImageSource.bind(\r\n        this\r\n      )\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({ paintings: nextProps.paintings });\r\n  }\r\n\r\n  addSeen(id) {\r\n    userService.addSeen(id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"painting-list-div\">\r\n        {!this.state.paintings ? (\r\n          <LoadingGif />\r\n        ) : !this.state.paintings.length ? (\r\n          <h2 className=\"search-err\">No matching paintings</h2>\r\n        ) : (\r\n          this.state.paintings.map((painting, i) => {\r\n            return (\r\n              <div key={shortid.generate()} className=\"painting-list-item\">\r\n                {!this.props.user ? null : !painting.usersWhoLiked.includes(\r\n                    this.props.user._id\r\n                  ) ? (\r\n                  <LikeIcon\r\n                    loggedIn\r\n                    liked\r\n                    userId={this.props.user._id}\r\n                    id={painting._id}\r\n                  />\r\n                ) : (\r\n                  <LikeIcon\r\n                    loggedIn\r\n                    userId={this.props.user._id}\r\n                    id={painting._id}\r\n                  />\r\n                )}\r\n\r\n                <Link\r\n                  onClick={() => this.addSeen(painting._id)}\r\n                  to={`/painting/${painting._id}`}\r\n                >\r\n                  <Image\r\n                    src={painting.image}\r\n                    view=\"home\"\r\n                    className=\"home-list-img\"\r\n                  />\r\n                </Link>\r\n\r\n                <div className=\"img-info\">\r\n                  <Link\r\n                    onClick={() => this.addSeen(painting._id)}\r\n                    to={`/painting/${painting._id}`}\r\n                  >\r\n                    <p className=\"list-title\">{painting.title}</p>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Home.css\";\r\n\r\nimport Navbar from \"../../components/Navbar/Navbar\";\r\nimport ExploreBar from \"../../components/ExploreBar/ExploreBar\";\r\nimport PaintingList from \"../../components/ListPainting/ListPainting\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport paintingService from \"../../lib/services/painting-service\";\r\nimport userService from \"./../../lib/services/user-services\";\r\n\r\nclass Home extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      paintings: null,\r\n      lastSearch: \"Oldest\",\r\n      sortedPaintings: null,\r\n      filteredPaintings: null,\r\n      filter: null\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount = async () => {\r\n    const homePaintings = await paintingService.getHomePaintings();\r\n    this.setState({\r\n      paintings: homePaintings,\r\n      sortedPaintings: homePaintings,\r\n      filteredPaintings: homePaintings\r\n    });\r\n    setTimeout(()=>console.log(this.state.paintings), 1000)\r\n  };\r\n\r\n\r\n  //!!!REFACTOR TO REDUX\r\n  sortPaintings = async sort => {\r\n\r\n    if (sort === this.state.lastSearch) {\r\n      return;\r\n    }\r\n\r\n    let sortedPaintings;\r\n\r\n    if (sort === \"Oldest\") {\r\n      sortedPaintings = this.state.paintings.sort((a, b) => {\r\n        return a.created_at > b.created_at ? 1 : -1;\r\n      });\r\n    } else if (sort === \"Newest\") {\r\n      sortedPaintings = this.state.paintings.sort((a, b) => {\r\n        return a.created_at > b.created_at ? -1 : 1;\r\n      });\r\n    } else if (sort === \"Most liked\") {\r\n      sortedPaintings = this.state.paintings.sort((a, b) => {\r\n        return a.usersWhoLiked.length > b.usersWhoLiked.length ? -1 : 1;\r\n      });\r\n    } else if (sort === \"Most seen\") {\r\n      sortedPaintings = this.state.paintings.sort((a, b) => {\r\n        return a.timesSeen > b.timesSeen ? -1 : 1;\r\n      });\r\n    }\r\n\r\n    this.setState({ sortedPaintings: sortedPaintings, lastSearch: sort })\r\n\r\n    if(!this.state.filter){\r\n      this.setState({ filteredPaintings: sortedPaintings, });\r\n    } else {\r\n      this.filterPaintings(this.state.filter)\r\n    }\r\n    \r\n  };\r\n\r\n\r\n\r\n  filterPaintings = filter => {\r\n    this.setState({\r\n      filteredPaintings: this.state.sortedPaintings.filter(painting => {\r\n        return painting.title.toLowerCase().includes(filter.toLowerCase());\r\n      }),\r\n      filter: filter\r\n    });\r\n  };\r\n\r\n  handleLike = string => {\r\n    userService.handleLike(string);\r\n  };\r\n\r\n  render() {\r\n    const { user, isLoggedIn } = this.props;\r\n    return (\r\n      <div>\r\n        <Navbar view=\"home\" getHomePaintings={this.getHomePaintings} />\r\n        <ExploreBar\r\n          {...this.props}\r\n          sortPaintings={this.sortPaintings}\r\n          filterPaintings={this.filterPaintings}\r\n        />\r\n\r\n        {!this.state.paintings ? null : (\r\n          <PaintingList\r\n            user={user}\r\n            paintings={this.state.filteredPaintings}\r\n            handleLike={this.handleLike}\r\n          />\r\n        )}\r\n\r\n        {isLoggedIn ? (\r\n          <div>\r\n            <Link to={`/chats/${user._id}`} className=\"chats-link\">\r\n              <img\r\n                src=\"https://img.icons8.com/flat_round/64/000000/speech-bubble.png\"\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n            <Link to=\"/paintings/add\" className=\"add-link\">\r\n              <img\r\n                src=\"https://img.icons8.com/material/96/000000/add.png\"\r\n                alt=\"\"\r\n              />\r\n            </Link>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Home);\r\n","import React, { Component } from 'react'\r\nimport { withAuth } from \"../../../lib/AuthProvider\"\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\"\r\n\r\nclass Login extends Component {\r\n    state = { username: \"\", password: \"\" };\r\n\r\n    handleFormSubmit = event => {\r\n      event.preventDefault();\r\n      const { username, password } = this.state;\r\n      this.props.login({ username, password })\r\n    };\r\n  \r\n    handleChange = event => {\r\n      const { name, value } = event.target;\r\n      this.setState({ [name]: value });\r\n    };\r\n  \r\n    render() {\r\n      const { username, password } = this.state;\r\n  \r\n      return (\r\n        <div className=\"login\">\r\n          <div className=\"login-background\"></div>\r\n          <div className=\"auth-background\"><div></div></div>\r\n        <img\r\n        id=\"auth-back\"\r\n          onClick={() => this.props.history.push(\"/\")}\r\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\r\n          alt=\"\"\r\n        />\r\n          <h1>Login</h1>\r\n  \r\n          <form onSubmit={this.handleFormSubmit}>\r\n            \r\n            <label>Username:</label>\r\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\r\n  \r\n            <label>Password:</label>\r\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n  \r\n            <input type=\"submit\" id=\"login-btn\" className=\"yellowbutton\" value=\"Login\" />\r\n          </form>\r\n          <p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default withAuth(Login)","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../../../lib/AuthProvider\";\r\nimport authService from \"../../../lib/services/auth-service\";\r\nimport \"./signup.css\";\r\n\r\nimport { profileImages } from \"../../../lib/config/images\";\r\nimport LoadingGif from \"./../../../components/LoadingGif\";\r\n\r\nvar profileImagesIndex = Math.floor(Math.random() * profileImages.length);\r\n\r\nclass Signup extends Component {\r\n  state = { username: \"\", password: \"\", image: null, imageLoaded: true };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, password, image } = this.state;\r\n    this.props.signup({ username, password, image });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n    setTimeout(()=>console.log(this.state), 200)\r\n  };\r\n\r\n  fileChange = event => {\r\n    this.setState({ imageLoaded: false });\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"photo\", file);\r\n\r\n    authService\r\n      .imageUpload(uploadData)\r\n      .then(image => {\r\n        this.setState({ image });\r\n        this.setState({ imageLoaded: true });\r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  changeImage(instruction) {\r\n    switch (instruction) {\r\n      case \"to_previous\":\r\n        profileImagesIndex--;\r\n        if (profileImagesIndex < 1) {\r\n          profileImagesIndex = profileImages.length - 1;\r\n        }\r\n        break;\r\n      case \"to_next\":\r\n        profileImagesIndex++;\r\n        if (profileImagesIndex > profileImages.length - 1) {\r\n          profileImagesIndex = 1;\r\n        }\r\n        break;\r\n      default:\r\n    }\r\n    this.setState({\r\n      image: profileImages[profileImagesIndex]\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      image: profileImages[profileImagesIndex]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <div className=\"signup\">\r\n        <div className=\"auth-background\">\r\n          <div></div>\r\n        </div>\r\n        <div className=\"signup-backgound\"></div>\r\n        <img\r\n          id=\"auth-back\"\r\n          onClick={() => this.props.history.push(\"/\")}\r\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\r\n          alt=\"\"\r\n        />\r\n        <h1>Welcome!!</h1>\r\n        {!this.state.image ? null : (\r\n          <div>\r\n            <img\r\n              id=\"signup-back-arrow\"\r\n              src=\"https://img.icons8.com/material-two-tone/96/000000/back.png\"\r\n              alt=\"\"\r\n              onClick={() => this.changeImage(\"to_previous\")}\r\n            />\r\n            {!this.state.imageLoaded ? (\r\n              <LoadingGif\r\n                view=\"signup\"\r\n                className=\"signup-profile-img loading-profile-img\"\r\n              />\r\n            ) : (\r\n              <img\r\n                className=\"signup-profile-img\"\r\n                src={this.state.image}\r\n                alt=\"\"\r\n              />\r\n            )}\r\n            <img\r\n              id=\"signup-next-arrow\"\r\n              src=\"https://img.icons8.com/material/96/000000/forward--v1.png\"\r\n              alt=\"\"\r\n              onClick={() => this.changeImage(\"to_next\")}\r\n            />\r\n          </div>\r\n        )}\r\n        <p>Please, fill in the fields below:</p>\r\n        <form\r\n          onSubmit={this.handleFormSubmit}\r\n          noValidate\r\n          encType=\"multipart/form-data\"\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={username}\r\n            className=\"signup-input\"\r\n            placeholder=\"Your username\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Your password\"\r\n            className=\"signup-input\"\r\n            value={password}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={e => this.fileChange(e)}\r\n            id=\"file\"\r\n          />\r\n          <label htmlFor=\"file\" className=\"btn-3\">\r\n            <span>Upload an image</span>\r\n          </label>\r\n\r\n          <br />\r\n          {this.state.imageLoaded ? (\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Signup\"\r\n              className=\"signup-btn yellowbutton\"\r\n            />\r\n          ) : (\r\n            <input\r\n              type=\"button\"\r\n              value=\"Signup\"\r\n              className=\"signup-btn disabledbutton\"\r\n            />\r\n          )}\r\n        </form>\r\n\r\n        <p>\r\n          Already have account? <Link to={\"/login\"}> Log In</Link>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Signup);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport shortid from \"shortid\";\r\nimport \"./ProfileDisplay.css\";\r\nimport userService from \"./../../lib/services/user-services\";\r\nimport paintingService from \"../../lib/services/painting-service\";\r\nimport LoadingGif from \"./../LoadingGif\"\r\nimport Image from \"./../Image\"\r\n\r\nexport default class ProfileDisplay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // userId: \"\",\r\n      user: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.refreshProfile();\r\n    if(document\r\n      .querySelector(\"#navbar-profile-img\")){\r\n        document\r\n          .querySelector(\"#navbar-profile-img\")\r\n          .addEventListener(\"click\", () => this.refreshProfile());\r\n      }\r\n  };\r\n\r\n  refreshProfile = async () => {\r\n    setTimeout(async () => {\r\n      const userData = await userService.getUser(\r\n        this.props.match.params.userId\r\n      );\r\n      this.setState({ user: userData });\r\n    }, 50);\r\n  };\r\n\r\n  deleteMe = paintingId => {\r\n    paintingService.delete(paintingId);\r\n    setTimeout(async () => {\r\n      const userData = await userService.getUser(this.props.user._id);\r\n      this.setState({ user: userData });\r\n    }, 50);\r\n  };\r\n\r\n  LogoutAndGoToSignup = ()=> {\r\n    this.props.logout()\r\n    // .then(()=>{\r\n    //   this.props.history.push(\"/signup\")\r\n    // })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.user ? <LoadingGif/> : (\r\n          <div key={shortid.generate()} className=\"profile-info\">\r\n            {!this.props.user ? null : (\r\n              <span>\r\n                {this.props.user._id !== this.state.user._id ? null : (\r\n                  <button className=\"redbutton logout-button\" onClick={this.LogoutAndGoToSignup}>\r\n                    LOGOUT\r\n                  </button>\r\n                )}\r\n              </span>\r\n            )}\r\n\r\n            {!this.state.user.paintings ? <LoadingGif/> : !this.state.user\r\n                .paintings[0] ? <h1 className=\"profile-empty-err\">You don't have any style cards yet :(</h1> : (\r\n              <div>\r\n                {!this.props.user ? <h1 id=\"details-title-not-user\">{this.state.user.username}'s style cards</h1> : this.props.user._id !== this.state.user._id ? (\r\n                  <h1>{this.state.user.username}'s style cards</h1>\r\n                ) : (\r\n                  <h1>Your style cards</h1>\r\n                )}\r\n\r\n                <ul className=\"profile-paintings-wrapper\">\r\n                  {this.state.user.paintings.map(painting => (\r\n                    <div key={shortid.generate()} className=\"profile-painting\">\r\n                      <Link to={`/painting/${painting._id}`}>\r\n                      <Image src={painting.image} view=\"profile\"/>\r\n                      </Link>\r\n                      <div>\r\n                        {!this.props.user? <Link to={`/painting/${painting._id}`}>\r\n                          <p className=\"other-profile-painting-title\">\r\n                            {painting.title}\r\n                          </p>\r\n                        </Link> :this.props.user._id !== this.state.user._id ? \r\n                          <Link to={`/painting/${painting._id}`}>\r\n                          <p className=\"other-profile-painting-title\">\r\n                            {painting.title}\r\n                          </p>\r\n                        </Link> : (\r\n                          <Link to={`/painting/${painting._id}`}>\r\n                          <p className=\"my-profile-painting-title\">\r\n                            {painting.title}\r\n                          </p>\r\n                        </Link>\r\n                        )}\r\n                        \r\n                        <p>{painting.description}</p>\r\n                        <div>\r\n                          {!this.props.user? null\r\n                          :\r\n                          this.props.user._id !==\r\n                          this.state.user._id ? null : (\r\n                            <div>\r\n                              <button\r\n                                className=\"redbutton\"\r\n                                onClick={() => {\r\n                                  this.deleteMe(painting._id);\r\n                                }}\r\n                              >\r\n                                DELETE\r\n                              </button>\r\n                              <span>\r\n                                <Link to={`/painting/edit/${painting._id}`}>\r\n                                  <button className=\"yellowbutton\">EDIT</button>\r\n                                </Link>\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport ProfileDisplay from \"../components/ProfileDisplay/ProfileDisplay\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { user, logout } = this.props;\r\n    return (\r\n      <div>\r\n        <Navbar {...this.props} refresh={this.refresh}/>\r\n        {user ? <ProfileDisplay user={user._id} logout={logout} {...this.props}/> : \r\n        <ProfileDisplay {...this.props}/>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Home);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {chatIcon} from \"./../../../lib/config/images\"\r\n\r\nexport default class ChatLink extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n      const { creator, creatorUsername, user } = this.props\r\n    return (\r\n      <div className=\"detail-creator-info-div\">\r\n        <p>\r\n          By: <Link to={`/profile/${creator}`}>{creatorUsername}</Link>\r\n        </p>\r\n\r\n        {!user ? null : user._id !== creator ? (\r\n          <Link to={`/chat/${creator}/${user._id}`}>\r\n            <img src={chatIcon} alt=\"\" />\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Tag extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      className: \"hidden\"\r\n    };\r\n  }\r\n\r\n  changeClassName = () => {\r\n    if (this.state.className === \"hidden\")\r\n      this.setState({ className: \"add-tag-delete-img\" });\r\n    else {\r\n      this.setState({ className: \"hidden\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"one-tag-wrapper\">\r\n        {this.props.view === \"add-form\" ? (\r\n          <span\r\n            onMouseOut={this.changeClassName}\r\n            onMouseOver={this.changeClassName}\r\n            className=\"add-displayed-tag\"\r\n          >\r\n            {this.props.text}\r\n            <img\r\n              onClick={this.props.deleteTag}\r\n              className={this.state.className}\r\n              src=\"https://www.pngix.com/pngfile/big/90-905356_close-svg-png-icon-free-download-icone-x.png\"\r\n              alt=\"\"\r\n            />\r\n          </span>\r\n        ) : (\r\n          <span className=\"add-displayed-tag\">{this.props.text}</span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport shortid from \"shortid\";\r\n\r\nimport Tag from \"./../../AddPainting/Tag\";\r\n\r\nexport default class Tags extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={}\r\n    }\r\n    render() {\r\n        const { tags } = this.props\r\n        return (\r\n            <div className=\"details-tags-wrapper\">\r\n              {!tags\r\n                ? null\r\n                : tags.map(tag => (\r\n                    <Link key={shortid.generate()} to={`/?tag=${tag}`}>\r\n                      <Tag text={tag}></Tag>\r\n                    </Link>\r\n                  ))}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { editIcon } from \"./../../../lib/config/images\";\r\n\r\nexport default class Title extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { title, id, ownPainting } = this.props;\r\n    return (\r\n      <div>\r\n        {ownPainting ? (\r\n          <div className=\"details-title-wrapper\">\r\n            <p className=\"details-title\">{title}</p>\r\n            <span>\r\n              <Link to={`/painting/edit/${id}`}>\r\n                <img src={editIcon} alt=\"\" />\r\n              </Link>\r\n            </span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"details-title-wrapper\">\r\n            <p className=\"details-title\">{title}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { timeSince } from \"./../../../lib/config/functions\";\r\n\r\nexport default class CreationDate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { created_at } = this.props;\r\n    return (\r\n      <div className=\"creation-date\">\r\n        <p>Created {timeSince(Date.parse(created_at)) + \" ago.\"}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { seenImg } from \"../../../lib/config/images\";\r\n\r\nexport default class SeenIcon extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    const { timesSeen } = this.props;\r\n    return (\r\n      <div>\r\n        <img className=\"edit-seenTimes\" src={seenImg} alt=\"\" />\r\n        <span>{timesSeen}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport SeenIcon from \"./../Icon/SeenIcon\";\r\nimport LikeIcon from \"./../Icon/LikeIcon\";\r\n\r\nexport default class Info extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    const { timesSeen, user, paintingId, game, loggedIn } = this.props;\r\n    return (\r\n      <div>\r\n        {loggedIn ? (\r\n          <div className=\"details-view-info\">\r\n            <SeenIcon timesSeen={timesSeen} />\r\n            {!this.props.user ? null : (\r\n              <div>\r\n                <LikeIcon\r\n                  loggedIn\r\n                  includeLikes\r\n                  userId={user._id}\r\n                  id={paintingId}\r\n                />\r\n              </div>\r\n            )}\r\n            <span className=\"details-game\">\r\n              <Link to={`/?game=${game}`}>{game}</Link>\r\n            </span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"details-view-info\">\r\n            <SeenIcon timesSeen={timesSeen} />\r\n            <LikeIcon />\r\n            <span className=\"details-game\">\r\n              <Link to={`/?game=${game}`}>{game}</Link>\r\n            </span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\n\r\nimport \"./DetailsPainting.css\";\r\n\r\nimport paintingService from \"../../lib/services/painting-service\";\r\n\r\nimport LoadingGif from \"../LoadingGif\";\r\nimport Image from \"./../Image\";\r\nimport CreatorDetails from \"./CreatorDetails/CreatorDetails\";\r\nimport Tags from \"./Tags/Tags\";\r\nimport Title from \"./Title/Title\";\r\nimport CreationDate from \"./CreationDate/CreationDate\";\r\nimport Info from \"./Info/Info\";\r\n\r\nclass PaintingDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      paintingId: props.paintingId,\r\n      paintingDetails: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    setTimeout(async () => {\r\n      const imgData = await paintingService.getDetails(this.state.paintingId);\r\n      this.setState({ paintingDetails: imgData });\r\n    }, 50);\r\n  };\r\n\r\n  render() {\r\n    const { user, isLoggedIn } = this.props;\r\n    const {\r\n      image,\r\n      title,\r\n      description,\r\n      creator,\r\n      creatorUsername,\r\n      timesSeen,\r\n      usersWhoLiked,\r\n      tags,\r\n      created_at,\r\n      game\r\n    } = this.state.paintingDetails;\r\n    const paintingId = this.state.paintingDetails._id;\r\n\r\n    return (\r\n      <div>\r\n        {!this.state.paintingDetails.image ? (\r\n          <LoadingGif />\r\n        ) : isLoggedIn ? (\r\n          <div className=\"details-div\">\r\n\r\n            <div>\r\n\r\n              <Image src={image} view=\"display\" className=\"edit-main-img\" />\r\n\r\n              <Info\r\n                loggedIn\r\n                timesSeen={timesSeen}\r\n                Liked={usersWhoLiked}\r\n                user={user}\r\n                paintingId={paintingId}\r\n                game={game}\r\n              />\r\n\r\n              {user._id === creator ? (\r\n                <Title\r\n                  ownPainting\r\n                  id={this.state.paintingDetails._id}\r\n                  title={title}\r\n                />\r\n              ) : (\r\n                <Title title={title} />\r\n              )}\r\n\r\n              {!description ? null : (\r\n                <p id=\"details-description\">{description}</p>\r\n              )}\r\n\r\n              <Tags tags={tags} />\r\n\r\n              <CreatorDetails\r\n                user={user}\r\n                creator={creator}\r\n                creatorUsername={creatorUsername}\r\n              />\r\n\r\n              <CreationDate created_at={created_at} />\r\n\r\n            </div>\r\n\r\n          </div>\r\n        ) : (\r\n          <div className=\"details-div\">\r\n\r\n            <Image src={image} view=\"display\" className=\"edit-main-img\" />\r\n\r\n            <Title title={title} />\r\n\r\n            {!description ? null : (\r\n              <p id=\"details-description\">{description}</p>\r\n            )}\r\n\r\n            <Tags tags={tags} />\r\n\r\n            <CreatorDetails\r\n              user={user}\r\n              creator={creator}\r\n              creatorUsername={creatorUsername}\r\n            />\r\n\r\n            <CreationDate created_at={created_at} />\r\n\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(PaintingDetails);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport PaintingDetails from \"../components/DetailsPainting/DetailsPainting\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\nclass Painting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar  view=\"details\" {...this.props}/>\r\n        <PaintingDetails {...this.props} paintingId={this.props.match.params.paintingId} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Painting);\r\n","import shortid from \"shortid\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport userService from \"./../../lib/services/user-services\";\r\nimport { timeSince } from \"./../../lib/config/functions\"\r\n\r\nimport LoadingGif from \"./../LoadingGif\";\r\n\r\nimport \"./ChatsDisplay.css\";\r\n\r\nexport default class ChatsDisplay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chats: null\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    const userId = this.props.match.params.userId;\r\n    const chats = await userService.getUserChatRooms(userId);\r\n    this.setState({ chats: chats });\r\n    chats.forEach(async (chat, i) => {\r\n      const otherUserId = this.getOtherUser(chat.roomId, userId);\r\n      if (otherUserId.split(\"\").length === userId.split(\"\").length) {\r\n        const otherUserData = await userService.getUser(otherUserId);\r\n        this.setState({\r\n          [otherUserData._id]: {\r\n            image: otherUserData.image,\r\n            username: otherUserData.username\r\n          }\r\n        });\r\n      } else {\r\n        chats.splice(i, 1);\r\n      }\r\n    });\r\n  };\r\n\r\n  //!!! KEEP BOT IDS IT IN CHAT MODEL\r\n  getOtherUser(roomId, userId) {\r\n    let result = roomId.split(userId).join(\"\");\r\n    // console.log(\"I am \", userId, \" so the result is \", result);\r\n    if (result.length === userId.length) {\r\n      return result;\r\n    } else {\r\n      return result.split(userId).join(\"\");\r\n    }\r\n  }\r\n\r\n  ///!!! FIX THIS. SHOULD NOT BE NEEDED\r\n  IMessedUp(roomId, userId) {\r\n    var regExp = new RegExp(userId, \"g\");\r\n    console.log(roomId)\r\n    if ((roomId.match(regExp) || []).length > 1) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { chats } = this.state;\r\n    const userId = this.props.match.params.userId;\r\n    return (\r\n      <div>\r\n        <h1 style={{ margin: \"4vh 0\" }}>Your chats</h1>\r\n        {!chats ? (\r\n          <LoadingGif />\r\n        ) : !chats.length ? (\r\n          <h2>You have no active chats...</h2>\r\n        ) : (\r\n          chats.map(chat => {\r\n            return (\r\n              <span key={shortid.generate()}>\r\n                {!this.IMessedUp(chat.roomId, userId) ? \"a\" : (\r\n                  <div>\r\n                    <div className=\"chats-chat-item\">\r\n                      {!this.state[\r\n                        this.getOtherUser(chat.roomId, userId)\r\n                      ] ? null : (\r\n                        <Link\r\n                          to={`/profile/${this.getOtherUser(\r\n                            chat.roomId,\r\n                            userId\r\n                          )}`}\r\n                        >\r\n                          <img\r\n                            src={\r\n                              this.state[this.getOtherUser(chat.roomId, userId)]\r\n                                .image\r\n                            }\r\n                            alt=\"\"\r\n                            className=\"chats-user-img\"\r\n                          />\r\n                          <p id=\"chats-chat-username\">\r\n                            {\r\n                              this.state[this.getOtherUser(chat.roomId, userId)]\r\n                                .username\r\n                            }\r\n                          </p>\r\n                        </Link>\r\n                      )}\r\n                      <div className=\"chats-info-div\">\r\n                        <Link\r\n                          to={`/chat/${userId}/${this.getOtherUser(\r\n                            chat.roomId,\r\n                            userId\r\n                          )}`}\r\n                          style={{ color: \"black\" }}\r\n                        >\r\n                          <p className=\"chats-comment-title\">Last message:</p>\r\n                          <div>\r\n                            {!chat.comments.length ? (\r\n                              <p>Write your first comment!</p>\r\n                            ) : (\r\n                              <div className=\"chats-last-msg-and-time\">\r\n                                <p className=\"chats-comment-text\">\r\n                                  {\r\n                                    chat.comments[chat.comments.length - 1]\r\n                                      .commentText\r\n                                  }\r\n                                </p>\r\n                              </div>\r\n                            )}\r\n                            {!chat.comments[chat.comments.length - 1] ? null : (\r\n                              <p className=\"chats-time-ago\">\r\n                                {timeSince(\r\n                                  Date.parse(\r\n                                    chat.comments[chat.comments.length - 1]\r\n                                      .created_at\r\n                                  )\r\n                                )}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </span>\r\n            );\r\n          })\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport paintingService from \"../lib/services/painting-service\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport ChatsDisplay from \"../components/Chats/ChatsDisplay\"\r\n\r\n\r\nclass Painting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        paintingDetails: null,\r\n        newPainting: null\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount=async()=>{\r\n      const { paintingId } = this.props.match.params \r\n      const imgData = await paintingService.getDetails(paintingId);\r\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props\r\n    return (\r\n      <div>\r\n        <Navbar  {...this.props}/>\r\n        <ChatsDisplay {...this.props} user={user}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Painting);\r\n","import React, { Component } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport \"./AddPaintingForm.css\";\r\n\r\nimport Tag from \"./Tag\";\r\n\r\nexport default class AddPaintingForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"\",\r\n      description: \"\",\r\n      image: \"\",\r\n      tags: []\r\n    };\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"add-painting-form\">\r\n        <h1>Add a new style card</h1>\r\n        <p id=\"error-message\" style={{color: \"red\"}} className=\"hidden\">\r\n          Error mesage\r\n        </p>\r\n        <form onSubmit={this.props.handleSubmit} className=\"add-form\">\r\n          <input\r\n            className=\"add-input\"\r\n            onChange={this.props.handleChange}\r\n            type=\"text\"\r\n            name=\"title\"\r\n            placeholder=\"Title\"\r\n            required\r\n          />\r\n\r\n          <textarea\r\n            className=\"add-description\"\r\n            onChange={this.props.handleChange}\r\n            type=\"text\"\r\n            name=\"description\"\r\n            placeholder=\"Description\"\r\n          />\r\n\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={e => this.props.fileChange(e)}\r\n            id=\"file\"\r\n          />\r\n          <label for=\"file\" className=\"btn-3\">\r\n            <span>Upload</span>\r\n          </label>\r\n          <span>or</span>\r\n          <input\r\n          onChange={this.props.handleChange}\r\n            id=\"signup-img-link\"\r\n            className=\"signup-input\"\r\n            name=\"image\"\r\n            placeholder=\"Link an image (Sketchfab OK)\"\r\n          />\r\n\r\n          <div id=\"add-tags-display\">\r\n          {!this.props.tags.length\r\n            ? null\r\n            : this.props.tags.map(tag => {\r\n                return <Tag view=\"add-form\" key={shortid.generate()}deleteTag={()=>this.props.deleteTag(tag)} text={tag}></Tag>;\r\n              })}\r\n              </div>\r\n          <input\r\n            className=\"add-input add-tags-fake\"\r\n            onChange={this.props.addTagValue}\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            placeholder=\"Tags (separated with spaces)\"\r\n          />\r\n\r\n          <select\r\n            id=\"select\"\r\n            size=\"1\"\r\n            name=\"game\"\r\n            onChange={this.props.handleSelectChange}\r\n            className=\"browser-default  custom-select-lg mb-3 select\"\r\n          >\r\n            <option>Warhammer 40k</option>\r\n            <option>Warhammer Fantasy</option>\r\n            <option>Legends of the Old West</option>\r\n          </select>\r\n\r\n          <button className=\"yellowbutton add-btn\">Submit</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport AddPaintingForm from \"../components/AddPainting/AddPaintingForm\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport paintingService from \"../lib/services/painting-service\";\r\n\r\nclass PaintingsAdd extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newPainting: {\r\n        title: \"\",\r\n        description: \"\",\r\n        image: \"\",\r\n        tags: [],\r\n        game: \"Warhammer 40k\"\r\n      }\r\n    };\r\n  }\r\n\r\n  handleSubmit = async e => {\r\n    e.preventDefault();\r\n    //!!!\r\n    if (this.state.newPainting.title.split(\"\").length < 17) {\r\n      // if (this.state.newPainting.image.split(\"\").length){\r\n        const newPainting = await paintingService.postPainting({\r\n          title: this.state.newPainting.title,\r\n          description: this.state.newPainting.description,\r\n          image: this.state.newPainting.image,\r\n          tags: this.state.newPainting.tags,\r\n          creator: this.props.user._id,\r\n          creatorUsername: this.props.user.username, //!!!\r\n          game: this.state.newPainting.game\r\n        });\r\n        if (newPainting) {\r\n          this.props.history.push(`/painting/${newPainting._id}`);\r\n        }\r\n      // } else {\r\n      //   const errorMessage = document.querySelector(\"#error-message\");\r\n      //   errorMessage.innerHTML = \"Image format is not accepted\";\r\n      //   errorMessage.classList.remove(\"hidden\");\r\n      // }\r\n    } else {\r\n      const errorMessage = document.querySelector(\"#error-message\");\r\n      errorMessage.innerHTML = \"Title must not be longer than 16 characters\";\r\n      errorMessage.classList.remove(\"hidden\");\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n    const newPaintingCopy = { ...this.state.newPainting };\r\n    newPaintingCopy[name] = value;\r\n    this.setState({ newPainting: newPaintingCopy });\r\n  };\r\n\r\n  handleSelectChange = e => {\r\n    var e = document.getElementById(\"select\");\r\n    var value = e.options[e.selectedIndex].value;\r\n    const newPaintingCopy = { ...this.state.newPainting };\r\n    newPaintingCopy[\"game\"] = value;\r\n    this.setState({ newPainting: newPaintingCopy });\r\n  };\r\n\r\n  fileChange = event => {\r\n    const file = event.target.files[0];\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"photo\", file);\r\n\r\n    paintingService\r\n      .imageUpload(uploadData)\r\n      .then(image => {\r\n        const newPaintingCopy = { ...this.state.newPainting };\r\n        newPaintingCopy.image = image;\r\n        this.setState({ newPainting: newPaintingCopy });\r\n        this.setState({ image });\r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  addTagValue = e => {\r\n    const fakeTagsInput = e.target;\r\n    let fakeTagsInputValue = fakeTagsInput.value;\r\n    const valueArr = fakeTagsInputValue.split(\"\");\r\n    const lastCharacterInInput = valueArr[valueArr.length - 1];\r\n    const firstCharacterInInput = valueArr[0];\r\n\r\n    if (firstCharacterInInput === \" \") {\r\n      fakeTagsInput.value = \"\";\r\n      return;\r\n    }\r\n    if (lastCharacterInInput === \" \") {\r\n      fakeTagsInputValue = fakeTagsInputValue.split(\"\");\r\n      fakeTagsInputValue.pop();\r\n      fakeTagsInputValue = fakeTagsInputValue.join(\"\");\r\n      if (this.state.newPainting.tags.indexOf(fakeTagsInputValue) !== -1) {\r\n        fakeTagsInput.value = \"\";\r\n        return;\r\n      }\r\n      const tagsCopy = [...this.state.newPainting.tags, fakeTagsInputValue];\r\n      const newPaintingCopy = { ...this.state.newPainting };\r\n      newPaintingCopy.tags = tagsCopy;\r\n      this.setState({ newPainting: newPaintingCopy });\r\n      fakeTagsInput.value = \"\";\r\n    }\r\n  };\r\n\r\n  deleteTag = tag => {\r\n    const tagsCopy = this.state.newPainting.tags;\r\n    if (tagsCopy.indexOf(tag) !== -1) {\r\n      tagsCopy.splice(tagsCopy.indexOf(tag), 1);\r\n      const newPaintingCopy = { ...this.state.newPainting };\r\n      newPaintingCopy.tags = tagsCopy;\r\n      this.setState({ newPainting: newPaintingCopy });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar {...this.props} />\r\n        <AddPaintingForm\r\n          handleChange={this.handleChange}\r\n          handleSelectChange={this.handleSelectChange}\r\n          handleSubmit={this.handleSubmit}\r\n          deleteTag={this.deleteTag}\r\n          fileChange={this.fileChange}\r\n          tags={this.state.newPainting.tags}\r\n          addTagValue={this.addTagValue}\r\n          user={this.props.user}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(PaintingsAdd);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport Image from \"./../Image\"\r\nimport \"./EditForm.css\";\r\n\r\nclass PaintingDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { painting } = this.props;\r\n    return (\r\n      <div className=\"edit-painting-div\">\r\n        {!painting ? null : (\r\n          <div>\r\n            <h1>Edit</h1>\r\n            <p id=\"error-message\" className=\"hidden\">\r\n              Error mesage\r\n            </p>\r\n            {!painting.image.includes(\"sketchfab.com\") ? (\r\n              <Image view=\"edit\" src={painting.image}/>\r\n            ) : (\r\n              \r\n              <Image view=\"edit\" src={painting.image}/>\r\n            )}\r\n            <form onSubmit={this.props.handleSubmit} className=\"edit-form\">\r\n              <table>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <label htmlFor=\"title\">Title</label>\r\n                    </td>\r\n                    <td>\r\n                      <input\r\n                        className=\"edit-input\"\r\n                        onChange={this.props.handleChange}\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"title\"\r\n                        value={painting.title}\r\n                        required\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <label htmlFor=\"description\">Description</label>\r\n                    </td>\r\n                    <td>\r\n                      <textarea\r\n                      id=\"edit-description\"\r\n                        className=\"edit-input\"\r\n                        onChange={this.props.handleChange}\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        value={painting.description}\r\n                        placeholder=\"description\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <label htmlFor=\"\">Tags</label>\r\n                    </td>\r\n                    <td>\r\n                      <input\r\n                        className=\"edit-input\"\r\n                        onChange={this.props.handleChange}\r\n                        type=\"text\"\r\n                        name=\"tags\"\r\n                        value={painting.tags.join(\", \")}\r\n                        placeholder=\"tags\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <button  className=\"yellowbutton edit-btn\">Update</button>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(PaintingDetails);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport EditDiv from \"../components/EditPainting/EditForm\";\r\nimport paintingService from \"../lib/services/painting-service\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\n\r\nclass Painting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        paintingDetails: null,\r\n        newPainting: null\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount=async()=>{\r\n      const { paintingId } = this.props.match.params \r\n      const imgData = await paintingService.getDetails(paintingId);\r\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\r\n  }\r\n\r\n  handleChange = (event)=>{\r\n      const { name, value } = event.target\r\n      const newPaintingCopy = {...this.state.newPainting}\r\n      if(name!==\"tags\"){\r\n        newPaintingCopy[name]=value\r\n      } else {\r\n        const withoutEmptyTags = value.split(\", \").filter(tag =>tag!==\"\")\r\n        newPaintingCopy[name]=withoutEmptyTags\r\n      }\r\n      this.setState({ newPainting: newPaintingCopy });\r\n  }\r\n\r\n  handleSubmit = async (e)=>{\r\n      e.preventDefault();\r\n      const updatedPainting = await paintingService.updatePaintingByPut(this.state.newPainting)\r\n      if(updatedPainting.title){\r\n          this.props.history.push(`/painting/${this.props.match.params.paintingId}`)\r\n      }\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar  {...this.props}/>\r\n        <EditDiv painting={this.state.newPainting} \r\n        handleChange={this.handleChange}\r\n        handleSubmit={this.handleSubmit}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Painting);\r\n","import axios from \"axios\";\r\n\r\nconst baseURL= process.env.REACT_APP_API_URL\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.chat = axios.create({\r\n      baseURL: baseURL,\r\n      withCredentials: true //<-- Goes with CORS credentials\r\n    });\r\n  }\r\n\r\n  getChatData(ids) {\r\n    const { creatorId, userId } = ids;\r\n    return this.chat\r\n      .get(`/chat/${creatorId}/${userId}`)\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  postComment(data) {\r\n    const { userId, creatorId, newCommentData } = data;\r\n    return this.chat\r\n      .post(`/chat/comment/${creatorId}/${userId}`, newCommentData)\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React, { Component } from \"react\";\r\nimport shortid from \"shortid\";\r\nimport { geolocated } from \"react-geolocated\";\r\nimport \"./ChatMain.css\";\r\n\r\nclass ChatMain extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    return (\r\n      <div className=\"chat\">\r\n        {!this.props.chat\r\n          ? null\r\n          : !user\r\n          ? null\r\n          : this.props.chat.a.comments.map(comment => {\r\n              return (\r\n                <div key={shortid.generate()}>\r\n                      \r\n                  {comment.creatorId === user._id ? (\r\n                    <div\r\n                      className=\"my-chat-comment-wrapper\"\r\n                    >\r\n                      <div className=\"talktext\">\r\n                        <p className=\"my-chat-comment\">{comment.commentText}</p>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      key={shortid.generate()}\r\n                      className=\"other-chat-comment-wrapper\"\r\n                    >\r\n                      <div className=\"talktext\">\r\n                        <p className=\"other-user-chat-comment\">\r\n                          {comment.commentText}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n      enableHighAccuracy: false,\r\n  },\r\n  userDecisionTimeout: 5000,\r\n})(ChatMain);","import React, {Component} from \"react\";\r\nimport \"./ChatForm.css\";\r\n// import { bindActionCreators } from \"react-redux\"\r\n// import { connect } from \"react-redux\";\r\n\r\nexport default class ChatMain extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newComment: {\r\n        creatorUsername: this.props.user.username, // this.props.user.username,\r\n        creatorId: this.props.user._id, //this.props.user._id,\r\n        commentText: \"\",\r\n        commentImage: \"\"\r\n      }\r\n    };\r\n  }\r\n\r\n  // static propTypes = {\r\n  //   comment: this.PropTypes.object.isRequired\r\n  // }\r\n\r\n  componentDidMount() {\r\n    // const allInputs = document.querySelectorAll(\"input\");\r\n    // const textInput = allInputs[0];\r\n    // const qtyInput = allInputs[1];\r\n    \r\n    // document.querySelector(\".show-chatform2\").addEventListener(\"click\", () => {\r\n    //   document.querySelector(\".chatform2\").classList.toggle(\"hidden\");\r\n    // });\r\n    // document.querySelector(\"#showform2\").addEventListener(\"click\", () => {\r\n    //   document.querySelector(\".invoiceform\").classList.remove(\"hidden\");\r\n    //   document.querySelector(\".chatform2\").classList.add(\"hidden\");\r\n    // });\r\n    // document\r\n    //   .querySelector(\".close-incoiceform\")\r\n    //   .addEventListener(\"click\", () => {\r\n    //     document.querySelector(\".invoiceform\").classList.add(\"hidden\");\r\n    //   });\r\n    // document.addEventListener(\"keydown\", e => {\r\n    //   if ((e.code === \"Enter\"||e.code===\"NumpadEnter\") && (textInput==document.activeElement||qtyInput==document.activeElement)) {\r\n    //     console.log(textInput);\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n    const newCommenCopy = { ...this.state.newComment };\r\n    newCommenCopy[name] = value;\r\n    this.setState({ newComment: newCommenCopy });\r\n  };\r\n\r\n  preventDefaultAndSendComment = e => {\r\n    e.preventDefault();\r\n    if (this.state.newComment.commentText !== \"\") {\r\n      this.props.sendComment(this.state.newComment);\r\n      const newCommenCopy = { ...this.state.newComment };\r\n      newCommenCopy.commentText = \"\";\r\n      this.setState({ newComment: newCommenCopy });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"invoiceform hidden\">\r\n          <div>\r\n            <p className=\"close-incoiceform\">x</p>\r\n            <div>\r\n              <input></input>\r\n              <p>x</p>\r\n              <input></input>\r\n              <p> x</p>\r\n              <input value=\"1\" style={{textAlign:\"center\"}}></input>\r\n              <p>=</p>\r\n              <p></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"chatform2 hidden\">\r\n          <p id=\"showform2\" >+ INVOICE</p>\r\n        </div>\r\n        <form\r\n          onSubmit={e => this.preventDefaultAndSendComment(e)}\r\n          className=\"chatform\"\r\n        >\r\n          <div className=\"show-chatform2 hidden\">+</div>\r\n          <input\r\n            type=\"text\"\r\n            name=\"commentText\"\r\n            onChange={this.handleChange}\r\n            value={this.state.newComment.commentText}\r\n          />\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Send\"\r\n            className=\"yellowbutton chat-send-btn\"\r\n          />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*const mapStateToProps = state => ({\r\n  comment: state\r\n});*/\r\n\r\n// export default connect(mapStateToProps)(ChatMain)\r\n","import React, { Component } from \"react\";\r\n\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport chatService from \"../lib/services/chat-service\";\r\n\r\nimport Navbar from \"../components/Navbar/Navbar\";\r\nimport ChatMain from \"../components/chat/ChatMain/ChatMain\";\r\nimport ChatForm from \"../components/chat/ChatForm/ChatForm\";\r\n\r\nclass Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chatData: null\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this.setState({\r\n      chatData: await chatService.getChatData(this.props.match.params)\r\n    });\r\n  };\r\n\r\n  sendComment = async newComment => {\r\n    const data = { ...this.props.match.params };\r\n    data[\"newCommentData\"] = newComment;\r\n    await chatService.postComment(data);\r\n    const updatedChat2 = await chatService.getChatData(this.props.match.params);\r\n    this.setState({ chatData: updatedChat2 });\r\n  };\r\n\r\n  render() {\r\n    const {user} = this.props\r\n    return (\r\n      <div>\r\n        <Navbar {...this.props}/>\r\n        <ChatMain chat={this.state.chatData} user={user}></ChatMain>\r\n\r\n        {user ? (\r\n          <ChatForm\r\n            sendComment={this.sendComment}\r\n            user={user}\r\n          ></ChatForm>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Chat);\r\n","import React, { Component } from \"react\";\r\nimport \"./Error404.css\";\r\n\r\nimport { img404 } from \"./../../lib/config/images\";\r\n\r\nimport Navbar from \"./../Navbar/Navbar\";\r\n\r\nexport default class Error404 extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar {...this.props}/>\r\n        <div className=\"error-404\">\r\n          <img src={img404} alt=\"\" />\r\n          <h1>Oh, no!</h1>\r\n          <h1> We were not able to find that page</h1>\r\n          <p>It may have been deleted...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\nimport LoadingGif from \"./../LoadingGif\"\r\n\r\nfunction AnonRoute({ component: Component, isLoggedIn, isLoading, ...rest }) {\r\n  if (isLoading) {\r\n    return <LoadingGif/>;\r\n  } else {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(AnonRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../../lib/AuthProvider\";\r\n\r\nfunction PrivateRoute({\r\n  component: Component,\r\n  isLoggedIn,\r\n  isLoading,\r\n  ...rest\r\n}) {\r\n  if (isLoading) {\r\n    return <h1>Loading</h1>;\r\n  } else {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(PrivateRoute);\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\n\r\nimport Home from \"./views/Home/Home\";\r\nimport Login from \"./views/Auth pages/Login/Login\";\r\nimport Signup from \"./views/Auth pages/Signup/Signup\";\r\nimport Profile from \"../src/views/Profile\";\r\nimport Painting from \"./views/Painting\";\r\nimport Chats from \"./views/Chats\";\r\nimport PaintingsAdd from \"./views/AddPaintings\";\r\nimport Edit from \"./views/Edit\";\r\nimport Chat from \"./views/Chat\";\r\nimport Error404 from \"./components/Errors/Error404\"\r\n\r\nimport AnonRoute from \"./components/a_Route Components/AnonRoute\";\r\nimport PrivateRoute from './components/a_Route Components/PrivateRoute';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home}></Route>\r\n          <AnonRoute exact path=\"/login\" component={Login}></AnonRoute>\r\n          <AnonRoute exact path=\"/signup\" component={Signup}></AnonRoute>\r\n          <Route exact path=\"/profile\" component={Profile}></Route>\r\n          <Route exact path=\"/chats/:userId\" component={Chats}></Route>\r\n          <PrivateRoute exact path=\"/profile/:userId\" component={Profile}></PrivateRoute>\r\n          <Route\r\n            exact\r\n            path=\"/painting/edit/:paintingId\"\r\n            component={Edit}\r\n          ></Route>\r\n          <Route\r\n            exact\r\n            path=\"/painting/:paintingId\"\r\n            component={Painting}\r\n          ></Route>\r\n          <Route exact path=\"/paintings/add\" component={PaintingsAdd}></Route>\r\n          <Route exact path=\"/chat/:creatorId/:userId\" component={Chat}></Route>\r\n          <Route component={Error404}></Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n//import BabelCore from \"babel-core\"\r\n\r\nimport App from \"./App\";\r\nimport AuthProvider from \"./lib/AuthProvider\";\r\n\r\n\r\nReactDOM.render(\r\n      <AuthProvider>\r\n        <App />\r\n      </AuthProvider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}