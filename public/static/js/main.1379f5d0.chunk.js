(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{44:function(e,t,a){e.exports=a(95)},49:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},75:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(38),s=a.n(i),c=(a(49),a(7)),l=a(8),o=(a(50),a(6)),u=a.n(o),m=a(1),p=a(2),d=a(4),h=a(3),g=a(5),f=(a(52),a(17)),b=a.n(f),v="https://paintapop.herokuapp.com",E=new(function(){function e(){Object(m.a)(this,e),this.auth=b.a.create({baseURL:v,withCredentials:!0})}return Object(p.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.image;return this.auth.post("/auth/signup",{username:t,password:a,image:n}).then((function(e){return e.data})).catch((function(e){return console.log(e),e}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"imageUpload",value:function(e){return this.auth.post("/auth/signup/image",e).then((function(e){return e.data}))}}]),e}()),j=r.a.createContext(),O=j.Consumer,w=j.Provider,y=function(e){return function(t){function a(){return Object(m.a)(this,a),Object(d.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(g.a)(a,t),Object(p.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(O,null,(function(a){var n=a.login,i=a.signup,s=a.user,c=a.logout,l=a.isLoggedIn,o=a.isLoading;return r.a.createElement(e,Object.assign({login:n,signup:i,user:s,logout:c,isLoggedIn:l,isLoading:o},t.props))}))}}]),a}(r.a.Component)},k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,isLoading:!0,user:null},a.login=function(e){var t=e.username,n=e.password;E.login({username:t,password:n}).then((function(e){a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.signup=function(e){var t=e.username,n=e.password,r=e.image;return E.signup({username:t,password:n,image:r}).then((function(e){a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){return E.logout().then((function(){a.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){e.setState({isLoggedIn:!0,isLoading:!1,user:t})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedIn,n=e.user,i=this.login,s=this.signup,c=this.logout;return r.a.createElement("div",null,r.a.createElement(w,{value:{isLoading:t,isLoggedIn:a,user:n,login:i,signup:s,logout:c}},this.props.children))}}]),t}(n.Component),C=(a(70),y(function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={profilePic:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.isLoggedIn,i=t.view;return r.a.createElement("div",{className:"navbar"},r.a.createElement("ul",null,"home"===i?r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(c.b,{to:"/",className:"navbar-link"},r.a.createElement("h1",{onClick:this.props.getHomePaintings},"Paintapop"))):r.a.createElement("li",null,r.a.createElement("img",{onClick:function(){return e.props.history.goBack()},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""})),"home"===i?r.a.createElement("li",null):r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(c.b,{to:"/",className:"navbar-link"},"Paintapop")),n?r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(c.b,{to:"/profile/".concat(a._id),className:"navbar-link"},r.a.createElement("img",{src:a.image,alt:"",id:"navbar-profile-img"}))):r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(c.b,{to:"/login",className:"navbar-link"},"Log In")),n?null:r.a.createElement("li",{style:{listStyleType:"none"}},r.a.createElement(c.b,{to:"/signup",className:"navbar-link"},"Sign up"))))}}]),t}(r.a.Component))),N=(a(75),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).getFilteredPaintings=function(e){a.props.filterPaintings(e)},a.sortPaintings=function(){var e=document.querySelector(".select"),t=e.options[e.selectedIndex].value;a.props.sortPaintings(t)},a.state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"exploreBar"},r.a.createElement("div",null,r.a.createElement("span",null,"Sort by:"),r.a.createElement("select",{name:"",id:"",className:"select",onClick:this.sortPaintings},r.a.createElement("option",{defaultValue:!0},"Oldest"),r.a.createElement("option",null,"Newest"),r.a.createElement("option",null,"Most liked"),r.a.createElement("option",null,"Most seen"))),r.a.createElement("div",null,r.a.createElement("input",{className:"explore-searchbar",onChange:function(t){return e.getFilteredPaintings(t.target.value)},type:"text",placeholder:"Search by title"}),r.a.createElement("img",{onMouseOver:function(){return e.getFilteredPaintings},onMouseOut:this.getFilteredPaintings,onClick:function(){e.getFilteredPaintings()},id:"search-magnifying-glass",src:"https://img.icons8.com/ios-glyphs/60/000000/search.png",alt:""})))}}]),t}(n.Component)),x=a(20),S="https://paintapop.herokuapp.com",P=new(function(){function e(){Object(m.a)(this,e),this.users=b.a.create({baseURL:S+"/users",withCredentials:!0})}return Object(p.a)(e,[{key:"getUser",value:function(e){return this.users.get("/".concat(e)).then((function(e){return e.data.password="*",e.data}))}},{key:"handleLike",value:function(e){return this.users.patch(e).then((function(e){return e.data}))}},{key:"addSeen",value:function(e){return this.users.patch("/add-seen/".concat(e)).then((function(e){return e.data.password="*",e.data}))}},{key:"getUserChatRooms",value:function(e){return this.users.get("/chatrooms/".concat(e)).then((function(e){return e.data}))}}]),e}()),I=a(10),L=a.n(I),D=(a(84),function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.view,a=e.className,n="https://retchhh.files.wordpress.com/2015/03/loading1.gif?w=300&h=300";return r.a.createElement("span",null,"signup"===t?r.a.createElement("img",{src:n,className:a,alt:""}):r.a.createElement("img",{src:n,alt:""}))}}]),t}(n.Component)),_=a(40),T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentWillReceiveProps=function(){a.setState({})},a.state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.view,a=e.src,n=e.className;return r.a.createElement("span",null,a?"display"===t?a.includes("sketchfab.com")?r.a.createElement("div",{className:"sketchfab-embed-wrapper"},r.a.createElement("iframe",{style:{width:"200vw",margin:"0 0 2vh"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):r.a.createElement(_.a,{src:a,mgTouchOffsetY:"100",mgTouchOffsetX:"0",className:n,height:"50vh",width:"90vw"}):"home"===t?a.includes("sketchfab.com")?r.a.createElement("div",{className:"sketchfab-embed-wrapper",style:{width:"100%",height:"22vh",paddingBottom:"0",marginBottom:"0"}},r.a.createElement("iframe",{style:{width:"100%",height:"22vh",paddingBottom:"0",marginBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):r.a.createElement("img",{className:n,src:a,alt:""}):"profile"===t?a.includes("sketchfab.com")?r.a.createElement("div",{className:"sketchfab-embed-wrapper",style:{width:"100%",height:"22vh",maxHeight:"20vh",paddingBottom:"0",marginBottom:"0"}},r.a.createElement("iframe",{style:{width:"20vh",height:"22vh",maxHeight:"20vh",paddingBottom:"0",marginBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):r.a.createElement("img",{className:n,src:a,alt:""}):"edit"===t?a.includes("sketchfab.com")?r.a.createElement("div",{style:{width:"88vw",height:"32vh",paddingBottom:"0",marginBottom:"2vh"}},r.a.createElement("iframe",{style:{width:"100%",height:"32vh",paddingBottom:"0"},title:"A 3D model",width:"640",height:"480",src:a,frameBorder:"0",allow:"autoplay; fullscreen; vr",mozallowfullscreen:"true",webkitallowfullscreen:"true"})):r.a.createElement("img",{className:n,src:a,alt:""}):null:r.a.createElement(D,null))}}]),t}(n.Component),U="https://paintapop.herokuapp.com",M=new(function(){function e(){Object(m.a)(this,e),this.paintings=b.a.create({baseURL:U+"/paintings",withCredentials:!0})}return Object(p.a)(e,[{key:"imageUpload",value:function(e){return this.paintings.post("/image",e).then((function(e){return e.data}))}},{key:"getDetails",value:function(e){return this.paintings.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return e.message}))}},{key:"getHomePaintings",value:function(){return this.paintings.get("/home").then((function(e){return e.data}))}},{key:"postPainting",value:function(e){return this.paintings.post("/",e).then((function(e){return e.data}))}},{key:"delete",value:function(e){return this.paintings.delete("/".concat(e))}},{key:"getFilteredPaintings",value:function(e){return this.paintings.get("/".concat(e))}},{key:"updatePaintingByPut",value:function(e){return this.paintings.put("/".concat(e._id),e).then((function(e){return e.data}))}}]),e}()),B=["https://preview.redd.it/sv49tdht3ds11.jpg?width=768&auto=webp&s=83ce6a1b99746d62e26212e1d5e25d70adb10ce9","https://i.pinimg.com/564x/0c/e4/91/0ce491ecf9684f64e49436689e969e43.jpg","https://i.pinimg.com/564x/42/6b/18/426b181df40f7da0046007250aa08337.jpg","https://i.pinimg.com/564x/a8/47/a4/a847a4bc6d4085a7bc7137049399682d.jpg","https://i.pinimg.com/564x/a8/ac/4e/a8ac4e780e1e10ef63c8170cc77cfa91.jpg","https://i.pinimg.com/564x/c8/44/3c/c8443c350a0fa207e56608d7e29ba88a.jpg","https://i.pinimg.com/originals/78/8f/01/788f01cd3b6f12e579e261e753b04a42.jpg","https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg","https://i.pinimg.com/564x/e7/45/8b/e7458bd5c12a259ec25a38f85cd961fa.jpg","https://i.pinimg.com/564x/c3/4b/e1/c34be151f30f8846b61fdce0845b218e.jpg","https://i.pinimg.com/564x/b8/2a/74/b82a7472bf8d04f4e060dde71e8449b5.jpg","https://i.pinimg.com/564x/e9/fb/de/e9fbde75eb24431341f06d4fe70ad3b3.jpg","https://i.pinimg.com/564x/67/91/67/6791675473dfc08463daa60ef22ca72d.jpg","https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg","https://i.pinimg.com/564x/ad/0f/f1/ad0ff1cd210f02e3020ad307e7d4b70f.jpg","https://i.pinimg.com/564x/d7/29/14/d729140681bfa9faa2a43768eaa3c897.jpg","https://i.pinimg.com/564x/a1/2a/a8/a12aa8fb31279840191eacb0512aef6a.jpg","https://i.pinimg.com/564x/85/b8/b1/85b8b1ece7fcbd870c6b7163fc02018e.jpg","https://i.pinimg.com/564x/df/0c/09/df0c09967d74c081e14adcd8667fa2f9.jpg","https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg","https://i.pinimg.com/564x/19/26/1f/19261f46683c09b9bd6404dd3fe67cf9.jpg","https://i.pinimg.com/564x/ed/0b/72/ed0b726cdc3c83b54251aa55e2bbe861.jpg","https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg","https://i.pinimg.com/564x/80/01/28/80012896a137b0e4cd1c6058ca39496d.jpg","https://i.pinimg.com/564x/b0/63/d7/b063d7022d71973b43c9464759641224.jpg","https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg","https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg","https://i.pinimg.com/564x/e3/a9/2e/e3a92e964371d63fb452fe1a8d42e183.jpg","https://i.pinimg.com/564x/23/a2/d6/23a2d606d07de55c8838f6ec4bd5a14d.jpg"],A="https://img.icons8.com/color/100/000000/filled-star.png",W="https://img.icons8.com/ios/50/000000/christmas-star.png";function F(e,t){var a,n,r,i;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.target.src!==W){s.next=9;break}return a=e.target.alt,s.next=4,u.a.awrap(P.handleLike("/handle-like/like/".concat(t,"/").concat(a)));case 4:return n=s.sent,this.setState({usersWhoLiked:n}),s.abrupt("return",n);case 9:return r=e.target.alt,s.next=12,u.a.awrap(P.handleLike("/handle-like/unlike/".concat(t,"/").concat(r)));case 12:return i=s.sent,this.setState({usersWhoLiked:i}),s.abrupt("return",i);case 15:case"end":return s.stop()}}),null,this)}var H=function(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"},R=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(M.getDetails(a.props.id));case 2:e=t.sent,a.setState({usersWhoLiked:e.usersWhoLiked});case 4:case"end":return t.stop()}}))},a.state={usersWhoLiked:null,handleLikeAndToggleImageSourceBinded:F.bind(Object(x.a)(a))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.id,n=e.userId,i=e.includeLikes,s=this.state,l=s.usersWhoLiked,o=s.handleLikeAndToggleImageSourceBinded;return r.a.createElement("span",null,l?t?i?l.includes(n)?r.a.createElement("div",null,r.a.createElement("img",{className:"details-filledStar",onClick:function(e){return o(e,n)},src:A,alt:a}),r.a.createElement("span",{id:"likes-qty"},l.length)):r.a.createElement("div",null,r.a.createElement("img",{onClick:function(e){return o(e,n)},className:"details-emptyStar",src:W,alt:a}),r.a.createElement("span",{id:"likes-qty"},l.length)):l.includes(n)?r.a.createElement("div",null,r.a.createElement("img",{className:"filledStar",onClick:function(e){return o(e,n)},src:A,alt:a})):r.a.createElement("div",null,r.a.createElement("img",{onClick:function(e){return o(e,n)},className:"emptyStar",src:W,alt:a})):l?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/login"},r.a.createElement("img",{src:W,alt:""})),r.a.createElement("span",null,l.length)):null:null)}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={paintings:e.paintings,handleLikeAndToggleImageSourceBinded:F.bind(Object(x.a)(a))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({paintings:e.paintings})}},{key:"addSeen",value:function(e){P.addSeen(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"painting-list-div"},this.state.paintings?this.state.paintings.length?this.state.paintings.map((function(t,a){return r.a.createElement("div",{key:L.a.generate(),className:"painting-list-item"},e.props.user?t.usersWhoLiked.includes(e.props.user._id)?r.a.createElement(R,{loggedIn:!0,userId:e.props.user._id,id:t._id}):r.a.createElement(R,{loggedIn:!0,liked:!0,userId:e.props.user._id,id:t._id}):null,r.a.createElement(c.b,{onClick:function(){return e.addSeen(t._id)},to:"/painting/".concat(t._id)},r.a.createElement(T,{src:t.image,view:"home",className:"home-list-img"})),r.a.createElement("div",{className:"img-info"},r.a.createElement(c.b,{onClick:function(){return e.addSeen(t._id)},to:"/painting/".concat(t._id)},r.a.createElement("p",{className:"list-title"},t.title))))})):r.a.createElement("h2",{className:"search-err"},"No matching paintings"):r.a.createElement(D,null))}}]),t}(n.Component),V=y(function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).componentDidMount=function(){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(M.getHomePaintings());case 2:t=a.sent,e.setState({paintings:t,sortedPaintings:t,filteredPaintings:t}),setTimeout((function(){return console.log(e.state.paintings)}),1e3);case 5:case"end":return a.stop()}}))},e.sortPaintings=function(t){var a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==e.state.lastSearch){n.next=2;break}return n.abrupt("return");case 2:"Oldest"===t?a=e.state.paintings.sort((function(e,t){return e.created_at>t.created_at?1:-1})):"Newest"===t?a=e.state.paintings.sort((function(e,t){return e.created_at>t.created_at?-1:1})):"Most liked"===t?a=e.state.paintings.sort((function(e,t){return e.usersWhoLiked.length>t.usersWhoLiked.length?-1:1})):"Most seen"===t&&(a=e.state.paintings.sort((function(e,t){return e.timesSeen>t.timesSeen?-1:1}))),e.setState({sortedPaintings:a,lastSearch:t}),e.state.filter?e.filterPaintings(e.state.filter):e.setState({filteredPaintings:a});case 5:case"end":return n.stop()}}))},e.filterPaintings=function(t){e.setState({filteredPaintings:e.state.sortedPaintings.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})),filter:t})},e.handleLike=function(e){P.handleLike(e)},e.state={paintings:null,lastSearch:"Oldest",sortedPaintings:null,filteredPaintings:null,filter:null},e}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedIn;return r.a.createElement("div",null,r.a.createElement(C,{view:"home",getHomePaintings:this.getHomePaintings}),r.a.createElement(N,Object.assign({},this.props,{sortPaintings:this.sortPaintings,filterPaintings:this.filterPaintings})),this.state.paintings?r.a.createElement(q,{user:t,paintings:this.state.filteredPaintings,handleLike:this.handleLike}):null,a?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/chats/".concat(t._id),className:"chats-link"},r.a.createElement("img",{src:"https://img.icons8.com/flat_round/64/000000/speech-bubble.png",alt:""})),r.a.createElement(c.b,{to:"/paintings/add",className:"add-link"},r.a.createElement("img",{src:"https://img.icons8.com/material/96/000000/add.png",alt:""}))):null)}}]),t}(r.a.Component)),Y=a(18),z=(a(85),y(function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login({username:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Y.a)({},n,r))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-background"}),r.a.createElement("div",{className:"auth-background"},r.a.createElement("div",null)),r.a.createElement("img",{id:"auth-back",onClick:function(){return e.props.history.push("/")},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""}),r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",id:"login-btn",className:"yellowbutton",value:"Login"})),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(c.b,{to:"/signup"},"Sign up")))}}]),t}(n.Component))),G=(a(86),Math.floor(Math.random()*B.length)),J=y(function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",image:null,imageLoaded:!0},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,i=t.image;a.props.signup({username:n,password:r,image:i})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Y.a)({},n,r))},a.fileChange=function(e){a.setState({imageLoaded:!1});var t=e.target.files[0],n=new FormData;n.append("photo",t),E.imageUpload(n).then((function(e){a.setState({image:e}),a.setState({imageLoaded:!0})})).catch((function(e){return console.log(e)}))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"changeImage",value:function(e){switch(e){case"to_previous":--G<1&&(G=B.length-1);break;case"to_next":++G>B.length-1&&(G=1)}this.setState({image:B[G]})}},{key:"componentDidMount",value:function(){this.setState({image:B[G]})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"auth-background"},r.a.createElement("div",null)),r.a.createElement("div",{className:"signup-backgound"}),r.a.createElement("img",{id:"auth-back",onClick:function(){return e.props.history.push("/")},src:"https://img.icons8.com/metro/52/000000/back.png",alt:""}),r.a.createElement("h1",null,"Welcome!!"),this.state.image?r.a.createElement("div",null,r.a.createElement("img",{id:"signup-back-arrow",src:"https://img.icons8.com/material-two-tone/96/000000/back.png",alt:"",onClick:function(){return e.changeImage("to_previous")}}),this.state.imageLoaded?r.a.createElement("img",{className:"signup-profile-img",src:this.state.image,alt:""}):r.a.createElement(D,{view:"signup",className:"signup-profile-img loading-profile-img"}),r.a.createElement("img",{id:"signup-next-arrow",src:"https://img.icons8.com/material/96/000000/forward--v1.png",alt:"",onClick:function(){return e.changeImage("to_next")}})):null,r.a.createElement("p",null,"Please, fill in the fields below:"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0,encType:"multipart/form-data"},r.a.createElement("input",{type:"text",name:"username",value:a,className:"signup-input",placeholder:"Your username",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Your password",className:"signup-input",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"file",name:"image",onChange:function(t){return e.fileChange(t)},id:"file"}),r.a.createElement("label",{htmlFor:"file",className:"btn-3"},r.a.createElement("span",null,"Upload an image")),r.a.createElement("br",null),this.state.imageLoaded?r.a.createElement("input",{type:"submit",value:"Signup",className:"signup-btn yellowbutton"}):r.a.createElement("input",{type:"button",value:"Signup",className:"signup-btn disabledbutton"})),r.a.createElement("p",null,"Already have account? ",r.a.createElement(c.b,{to:"/login"}," Log In")))}}]),t}(n.Component)),K=(a(87),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){a.refreshProfile(),document.querySelector("#navbar-profile-img")&&document.querySelector("#navbar-profile-img").addEventListener("click",(function(){return a.refreshProfile()}))},a.refreshProfile=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(P.getUser(a.props.match.params.userId));case 2:e=t.sent,a.setState({user:e});case 4:case"end":return t.stop()}}))}),50);case 1:case"end":return e.stop()}}))},a.deleteMe=function(e){M.delete(e),setTimeout((function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(P.getUser(a.props.user._id));case 2:e=t.sent,a.setState({user:e});case 4:case"end":return t.stop()}}))}),50)},a.LogoutAndGoToSignup=function(){a.props.logout()},a.state={user:{}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.user?r.a.createElement("div",{key:L.a.generate(),className:"profile-info"},this.props.user?r.a.createElement("span",null,this.props.user._id!==this.state.user._id?null:r.a.createElement("button",{className:"redbutton logout-button",onClick:this.LogoutAndGoToSignup},"LOGOUT")):null,this.state.user.paintings?this.state.user.paintings[0]?r.a.createElement("div",null,this.props.user?this.props.user._id!==this.state.user._id?r.a.createElement("h1",null,this.state.user.username,"'s style cards"):r.a.createElement("h1",null,"Your style cards"):r.a.createElement("h1",{id:"details-title-not-user"},this.state.user.username,"'s style cards"),r.a.createElement("ul",{className:"profile-paintings-wrapper"},this.state.user.paintings.map((function(t){return r.a.createElement("div",{key:L.a.generate(),className:"profile-painting"},r.a.createElement(c.b,{to:"/painting/".concat(t._id)},r.a.createElement(T,{src:t.image,view:"profile"})),r.a.createElement("div",null,e.props.user?e.props.user._id!==e.state.user._id?r.a.createElement(c.b,{to:"/painting/".concat(t._id)},r.a.createElement("p",{className:"other-profile-painting-title"},t.title)):r.a.createElement(c.b,{to:"/painting/".concat(t._id)},r.a.createElement("p",{className:"my-profile-painting-title"},t.title)):r.a.createElement(c.b,{to:"/painting/".concat(t._id)},r.a.createElement("p",{className:"other-profile-painting-title"},t.title)),r.a.createElement("p",null,t.description),r.a.createElement("div",null,e.props.user?e.props.user._id!==e.state.user._id?null:r.a.createElement("div",null,r.a.createElement("button",{className:"redbutton",onClick:function(){e.deleteMe(t._id)}},"DELETE"),r.a.createElement("span",null,r.a.createElement(c.b,{to:"/painting/edit/".concat(t._id)},r.a.createElement("button",{className:"yellowbutton"},"EDIT")))):null)))})))):r.a.createElement("h1",{className:"profile-empty-err"},"You don't have any style cards yet :("):r.a.createElement(D,null)):r.a.createElement(D,null))}}]),t}(n.Component)),X=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout;return r.a.createElement("div",null,r.a.createElement(C,Object.assign({},this.props,{refresh:this.refresh})),t?r.a.createElement(K,Object.assign({user:t._id,logout:a},this.props)):r.a.createElement(K,this.props))}}]),t}(r.a.Component)),Q=(a(88),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.creator,a=e.creatorUsername,n=e.user;return r.a.createElement("div",{className:"detail-creator-info-div"},r.a.createElement("p",null,"By: ",r.a.createElement(c.b,{to:"/profile/".concat(t)},a)),n&&n._id!==t?r.a.createElement(c.b,{to:"/chat/".concat(t,"/").concat(n._id)},r.a.createElement("img",{src:"https://img.icons8.com/plasticine/100/000000/chat.png",alt:""})):null)}}]),t}(n.Component)),Z=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).changeClassName=function(){"hidden"===a.state.className?a.setState({className:"add-tag-delete-img"}):a.setState({className:"hidden"})},a.state={className:"hidden"},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"one-tag-wrapper"},"add-form"===this.props.view?r.a.createElement("span",{onMouseOut:this.changeClassName,onMouseOver:this.changeClassName,className:"add-displayed-tag"},this.props.text,r.a.createElement("img",{onClick:this.props.deleteTag,className:this.state.className,src:"https://www.pngix.com/pngfile/big/90-905356_close-svg-png-icon-free-download-icone-x.png",alt:""})):r.a.createElement("span",{className:"add-displayed-tag"},this.props.text))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.tags;return r.a.createElement("div",{className:"details-tags-wrapper"},e?e.map((function(e){return r.a.createElement(c.b,{key:L.a.generate(),to:"/?tag=".concat(e)},r.a.createElement(Z,{text:e}))})):null)}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.id,n=e.ownPainting;return r.a.createElement("div",null,n?r.a.createElement("div",{className:"details-title-wrapper"},r.a.createElement("p",{className:"details-title"},t),r.a.createElement("span",null,r.a.createElement(c.b,{to:"/painting/edit/".concat(a)},r.a.createElement("img",{src:"https://img.icons8.com/dusk/512/000000/edit.png",alt:""})))):r.a.createElement("div",{className:"details-title-wrapper"},r.a.createElement("p",{className:"details-title"},t)))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.created_at;return r.a.createElement("div",{className:"creation-date"},r.a.createElement("p",null,"Created ",H(Date.parse(e))+" ago."))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.timesSeen;return r.a.createElement("div",null,r.a.createElement("img",{className:"edit-seenTimes",src:"https://img.icons8.com/material-rounded/96/000000/visible.png",alt:""}),r.a.createElement("span",null,e))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.timesSeen,a=e.user,n=e.paintingId,i=e.game,s=e.loggedIn;return r.a.createElement("div",null,s?r.a.createElement("div",{className:"details-view-info"},r.a.createElement(ae,{timesSeen:t}),this.props.user?r.a.createElement("div",null,r.a.createElement(R,{loggedIn:!0,includeLikes:!0,userId:a._id,id:n})):null,r.a.createElement("span",{className:"details-game"},r.a.createElement(c.b,{to:"/?game=".concat(i)},i))):r.a.createElement("div",{className:"details-view-info"},r.a.createElement(ae,{timesSeen:t}),r.a.createElement(R,null),r.a.createElement("span",{className:"details-game"},r.a.createElement(c.b,{to:"/?game=".concat(i)},i))))}}]),t}(n.Component),re=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(M.getDetails(a.state.paintingId));case 2:e=t.sent,a.setState({paintingDetails:e});case 4:case"end":return t.stop()}}))}),50);case 1:case"end":return e.stop()}}))},a.state={paintingId:e.paintingId,paintingDetails:{}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedIn,n=this.state.paintingDetails,i=n.image,s=n.title,c=n.description,l=n.creator,o=n.creatorUsername,u=n.timesSeen,m=n.usersWhoLiked,p=n.tags,d=n.created_at,h=n.game,g=this.state.paintingDetails._id;return r.a.createElement("div",null,this.state.paintingDetails.image?a?r.a.createElement("div",{className:"details-div"},r.a.createElement("div",null,r.a.createElement(T,{src:i,view:"display",className:"edit-main-img"}),r.a.createElement(ne,{loggedIn:!0,timesSeen:u,Liked:m,user:t,paintingId:g,game:h}),t._id===l?r.a.createElement(ee,{ownPainting:!0,id:this.state.paintingDetails._id,title:s}):r.a.createElement(ee,{title:s}),c?r.a.createElement("p",{id:"details-description"},c):null,r.a.createElement($,{tags:p}),r.a.createElement(Q,{user:t,creator:l,creatorUsername:o}),r.a.createElement(te,{created_at:d}))):r.a.createElement("div",{className:"details-div"},r.a.createElement(T,{src:i,view:"display",className:"edit-main-img"}),r.a.createElement(ee,{title:s}),c?r.a.createElement("p",{id:"details-description"},c):null,r.a.createElement($,{tags:p}),r.a.createElement(Q,{user:t,creator:l,creatorUsername:o}),r.a.createElement(te,{created_at:d})):r.a.createElement(D,null))}}]),t}(n.Component)),ie=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,Object.assign({view:"details"},this.props)),r.a.createElement(re,Object.assign({},this.props,{paintingId:this.props.match.params.paintingId})))}}]),t}(n.Component)),se=(a(89),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.userId,n.next=3,u.a.awrap(P.getUserChatRooms(e));case 3:t=n.sent,a.setState({chats:t}),t.forEach((function(n,r){var i,s;return u.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if((i=a.getOtherUser(n.roomId,e)).split("").length!==e.split("").length){c.next=8;break}return c.next=4,u.a.awrap(P.getUser(i));case 4:s=c.sent,a.setState(Object(Y.a)({},s._id,{image:s.image,username:s.username})),c.next=9;break;case 8:t.splice(r,1);case 9:case"end":return c.stop()}}))}));case 6:case"end":return n.stop()}}))},a.state={chats:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"getOtherUser",value:function(e,t){var a=e.split(t).join("");return a.length===t.length?a:a.split(t).join("")}},{key:"IMessedUp",value:function(e,t){var a=new RegExp(t,"g");return console.log(e),!((e.match(a)||[]).length>1)}},{key:"render",value:function(){var e=this,t=this.state.chats,a=this.props.match.params.userId;return r.a.createElement("div",null,r.a.createElement("h1",{style:{margin:"4vh 0"}},"Your chats"),t?t.length?t.map((function(t){return r.a.createElement("span",{key:L.a.generate()},e.IMessedUp(t.roomId,a)?r.a.createElement("div",null,r.a.createElement("div",{className:"chats-chat-item"},e.state[e.getOtherUser(t.roomId,a)]?r.a.createElement(c.b,{to:"/profile/".concat(e.getOtherUser(t.roomId,a))},r.a.createElement("img",{src:e.state[e.getOtherUser(t.roomId,a)].image,alt:"",className:"chats-user-img"}),r.a.createElement("p",{id:"chats-chat-username"},e.state[e.getOtherUser(t.roomId,a)].username)):null,r.a.createElement("div",{className:"chats-info-div"},r.a.createElement(c.b,{to:"/chat/".concat(a,"/").concat(e.getOtherUser(t.roomId,a)),style:{color:"black"}},r.a.createElement("p",{className:"chats-comment-title"},"Last message:"),r.a.createElement("div",null,t.comments.length?r.a.createElement("div",{className:"chats-last-msg-and-time"},r.a.createElement("p",{className:"chats-comment-text"},t.comments[t.comments.length-1].commentText)):r.a.createElement("p",null,"Write your first comment!"),t.comments[t.comments.length-1]?r.a.createElement("p",{className:"chats-time-ago"},H(Date.parse(t.comments[t.comments.length-1].created_at))):null))))):"a")})):r.a.createElement("h2",null,"You have no active chats..."):r.a.createElement(D,null))}}]),t}(n.Component)),ce=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.paintingId,n.next=3,u.a.awrap(M.getDetails(e));case 3:t=n.sent,a.setState({paintingDetails:t,newPainting:t});case 5:case"end":return n.stop()}}))},a.state={paintingDetails:null,newPainting:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(C,this.props),r.a.createElement(se,Object.assign({},this.props,{user:e})))}}]),t}(n.Component)),le=a(43),oe=a(12),ue=(a(90),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={title:"",description:"",image:"",tags:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-painting-form"},r.a.createElement("h1",null,"Add a new style card"),r.a.createElement("p",{id:"error-message",style:{color:"red"},className:"hidden"},"Error mesage"),r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"add-form"},r.a.createElement("input",{className:"add-input",onChange:this.props.handleChange,type:"text",name:"title",placeholder:"Title",required:!0}),r.a.createElement("textarea",{className:"add-description",onChange:this.props.handleChange,type:"text",name:"description",placeholder:"Description"}),r.a.createElement("input",{type:"file",name:"image",onChange:function(t){return e.props.fileChange(t)},id:"file"}),r.a.createElement("label",{for:"file",className:"btn-3"},r.a.createElement("span",null,"Upload")),r.a.createElement("span",null,"or"),r.a.createElement("input",{onChange:this.props.handleChange,id:"signup-img-link",className:"signup-input",name:"image",placeholder:"Link an image (Sketchfab OK)"}),r.a.createElement("div",{id:"add-tags-display"},this.props.tags.length?this.props.tags.map((function(t){return r.a.createElement(Z,{view:"add-form",key:L.a.generate(),deleteTag:function(){return e.props.deleteTag(t)},text:t})})):null),r.a.createElement("input",{className:"add-input add-tags-fake",onChange:this.props.addTagValue,type:"text",name:"tags",placeholder:"Tags (separated with spaces)"}),r.a.createElement("select",{id:"select",size:"1",name:"game",onChange:this.props.handleSelectChange,className:"browser-default  custom-select-lg mb-3 select"},r.a.createElement("option",null,"Warhammer 40k"),r.a.createElement("option",null,"Warhammer Fantasy"),r.a.createElement("option",null,"Legends of the Old West")),r.a.createElement("button",{className:"yellowbutton add-btn"},"Submit")))}}]),t}(n.Component)),me=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),!(a.state.newPainting.title.split("").length<17)){r.next=8;break}return r.next=4,u.a.awrap(M.postPainting({title:a.state.newPainting.title,description:a.state.newPainting.description,image:a.state.newPainting.image,tags:a.state.newPainting.tags,creator:a.props.user._id,creatorUsername:a.props.user.username,game:a.state.newPainting.game}));case 4:(t=r.sent)&&a.props.history.push("/painting/".concat(t._id)),r.next=11;break;case 8:(n=document.querySelector("#error-message")).innerHTML="Title must not be longer than 16 characters",n.classList.remove("hidden");case 11:case"end":return r.stop()}}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,i=Object(oe.a)({},a.state.newPainting);i[n]=r,a.setState({newPainting:i})},a.handleSelectChange=function(e){var t=(e=document.getElementById("select")).options[e.selectedIndex].value,n=Object(oe.a)({},a.state.newPainting);n.game=t,a.setState({newPainting:n})},a.fileChange=function(e){var t=e.target.files[0],n=new FormData;n.append("photo",t),M.imageUpload(n).then((function(e){var t=Object(oe.a)({},a.state.newPainting);t.image=e,a.setState({newPainting:t}),a.setState({image:e})})).catch((function(e){return console.log(e)}))},a.addTagValue=function(e){var t=e.target,n=t.value,r=n.split(""),i=r[r.length-1];if(" "!==r[0]){if(" "===i){if((n=n.split("")).pop(),n=n.join(""),-1!==a.state.newPainting.tags.indexOf(n))return void(t.value="");var s=[].concat(Object(le.a)(a.state.newPainting.tags),[n]),c=Object(oe.a)({},a.state.newPainting);c.tags=s,a.setState({newPainting:c}),t.value=""}}else t.value=""},a.deleteTag=function(e){var t=a.state.newPainting.tags;if(-1!==t.indexOf(e)){t.splice(t.indexOf(e),1);var n=Object(oe.a)({},a.state.newPainting);n.tags=t,a.setState({newPainting:n})}},a.state={newPainting:{title:"",description:"",image:"",tags:[],game:"Warhammer 40k"}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,this.props),r.a.createElement(ue,{handleChange:this.handleChange,handleSelectChange:this.handleSelectChange,handleSubmit:this.handleSubmit,deleteTag:this.deleteTag,fileChange:this.fileChange,tags:this.state.newPainting.tags,addTagValue:this.addTagValue,user:this.props.user}))}}]),t}(r.a.Component)),pe=(a(91),y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.painting;return r.a.createElement("div",{className:"edit-painting-div"},e?r.a.createElement("div",null,r.a.createElement("h1",null,"Edit"),r.a.createElement("p",{id:"error-message",className:"hidden"},"Error mesage"),(e.image.includes("sketchfab.com"),r.a.createElement(T,{view:"edit",src:e.image})),r.a.createElement("form",{onSubmit:this.props.handleSubmit,className:"edit-form"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"title"},"Title")),r.a.createElement("td",null,r.a.createElement("input",{className:"edit-input",onChange:this.props.handleChange,type:"text",name:"title",placeholder:"title",value:e.title,required:!0}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"description"},"Description")),r.a.createElement("td",null,r.a.createElement("textarea",{id:"edit-description",className:"edit-input",onChange:this.props.handleChange,type:"text",name:"description",value:e.description,placeholder:"description"}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:""},"Tags")),r.a.createElement("td",null,r.a.createElement("input",{className:"edit-input",onChange:this.props.handleChange,type:"text",name:"tags",value:e.tags.join(", "),placeholder:"tags"}))))),r.a.createElement("button",{className:"yellowbutton edit-btn"},"Update"))):null)}}]),t}(n.Component))),de=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.match.params.paintingId,n.next=3,u.a.awrap(M.getDetails(e));case 3:t=n.sent,a.setState({paintingDetails:t,newPainting:t});case 5:case"end":return n.stop()}}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value,i=Object(oe.a)({},a.state.newPainting);if("tags"!==n)i[n]=r;else{var s=r.split(", ").filter((function(e){return""!==e}));i[n]=s}a.setState({newPainting:i})},a.handleSubmit=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,u.a.awrap(M.updatePaintingByPut(a.state.newPainting));case 3:t.sent.title&&a.props.history.push("/painting/".concat(a.props.match.params.paintingId));case 5:case"end":return t.stop()}}))},a.state={paintingDetails:null,newPainting:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,this.props),r.a.createElement(pe,{painting:this.state.newPainting,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(n.Component)),he="https://paintapop.herokuapp.com",ge=new(function(){function e(){Object(m.a)(this,e),this.chat=b.a.create({baseURL:he,withCredentials:!0})}return Object(p.a)(e,[{key:"getChatData",value:function(e){var t=e.creatorId,a=e.userId;return this.chat.get("/chat/".concat(t,"/").concat(a)).then((function(e){return e.data}))}},{key:"postComment",value:function(e){var t=e.userId,a=e.creatorId,n=e.newCommentData;return this.chat.post("/chat/comment/".concat(a,"/").concat(t),n).then((function(e){return e}))}}]),e}()),fe=a(42),be=(a(92),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"chat"},this.props.chat&&e?this.props.chat.a.comments.map((function(t){return r.a.createElement("div",{key:L.a.generate()},t.creatorId===e._id?r.a.createElement("div",{className:"my-chat-comment-wrapper"},r.a.createElement("div",{className:"talktext"},r.a.createElement("p",{className:"my-chat-comment"},t.commentText))):r.a.createElement("div",{key:L.a.generate(),className:"other-chat-comment-wrapper"},r.a.createElement("div",{className:"talktext"},r.a.createElement("p",{className:"other-user-chat-comment"},t.commentText))))})):null)}}]),t}(n.Component)),ve=Object(fe.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(be),Ee=(a(93),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value,i=Object(oe.a)({},a.state.newComment);i[n]=r,a.setState({newComment:i})},a.preventDefaultAndSendComment=function(e){if(e.preventDefault(),""!==a.state.newComment.commentText){a.props.sendComment(a.state.newComment);var t=Object(oe.a)({},a.state.newComment);t.commentText="",a.setState({newComment:t})}},a.state={newComment:{creatorUsername:a.props.user.username,creatorId:a.props.user._id,commentText:"",commentImage:""}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"invoiceform hidden"},r.a.createElement("div",null,r.a.createElement("p",{className:"close-incoiceform"},"x"),r.a.createElement("div",null,r.a.createElement("input",null),r.a.createElement("p",null,"x"),r.a.createElement("input",null),r.a.createElement("p",null,"\u20ac x"),r.a.createElement("input",{value:"1",style:{textAlign:"center"}}),r.a.createElement("p",null,"="),r.a.createElement("p",null)))),r.a.createElement("div",{className:"chatform2 hidden"},r.a.createElement("p",{id:"showform2"},"+ INVOICE")),r.a.createElement("form",{onSubmit:function(t){return e.preventDefaultAndSendComment(t)},className:"chatform"},r.a.createElement("div",{className:"show-chatform2 hidden"},"+"),r.a.createElement("input",{type:"text",name:"commentText",onChange:this.handleChange,value:this.state.newComment.commentText}),r.a.createElement("input",{type:"submit",value:"Send",className:"yellowbutton chat-send-btn"})))}}]),t}(n.Component)),je=y(function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,u.a.awrap(ge.getChatData(a.props.match.params));case 3:e.t1=e.sent,e.t2={chatData:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}))},a.sendComment=function(e){var t,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=Object(oe.a)({},a.props.match.params)).newCommentData=e,r.next=4,u.a.awrap(ge.postComment(t));case 4:return r.next=6,u.a.awrap(ge.getChatData(a.props.match.params));case 6:n=r.sent,a.setState({chatData:n});case 8:case"end":return r.stop()}}))},a.state={chatData:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement(C,this.props),r.a.createElement(ve,{chat:this.state.chatData,user:e}),e?r.a.createElement(Ee,{sendComment:this.sendComment,user:e}):null)}}]),t}(n.Component)),Oe=(a(94),function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,this.props),r.a.createElement("div",{className:"error-404"},r.a.createElement("img",{src:"https://cdn.dribbble.com/users/2112205/screenshots/6311420/404.gif",alt:""}),r.a.createElement("h1",null,"Oh, no!"),r.a.createElement("h1",null," We were not able to find that page"),r.a.createElement("p",null,"It may have been deleted...")))}}]),t}(n.Component)),we=a(22);var ye=y((function(e){var t=e.component,a=e.isLoggedIn,n=e.isLoading,i=Object(we.a)(e,["component","isLoggedIn","isLoading"]);return n?r.a.createElement(D,null):r.a.createElement(l.b,Object.assign({},i,{render:function(e){return a?r.a.createElement(l.a,{to:"/"}):r.a.createElement(t,e)}}))}));var ke=y((function(e){var t=e.component,a=e.isLoggedIn,n=e.isLoading,i=Object(we.a)(e,["component","isLoggedIn","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(l.b,Object.assign({},i,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))}));var Ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:V}),r.a.createElement(ye,{exact:!0,path:"/login",component:z}),r.a.createElement(ye,{exact:!0,path:"/signup",component:J}),r.a.createElement(l.b,{exact:!0,path:"/profile",component:X}),r.a.createElement(l.b,{exact:!0,path:"/chats/:userId",component:ce}),r.a.createElement(ke,{exact:!0,path:"/profile/:userId",component:X}),r.a.createElement(l.b,{exact:!0,path:"/painting/edit/:paintingId",component:de}),r.a.createElement(l.b,{exact:!0,path:"/painting/:paintingId",component:ie}),r.a.createElement(l.b,{exact:!0,path:"/paintings/add",component:me}),r.a.createElement(l.b,{exact:!0,path:"/chat/:creatorId/:userId",component:je}),r.a.createElement(l.b,{component:Oe}))))};s.a.render(r.a.createElement(k,null,r.a.createElement(Ce,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1379f5d0.chunk.js.map